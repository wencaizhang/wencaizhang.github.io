[{"categories":["bug-fix"],"content":" ç›‘å¬äº‹ä»¶bindreadyï¼Œè·å–é«˜åº¦æœ‰æ—¶ä¸å‡†ç¡® #195  å¯¹åº”çš„æºç éƒ¨åˆ†  åˆ¤æ–­ ready çš„æ ‡å‡†æ˜¯æ¯ 350ms æ£€æŸ¥ä¸€æ¬¡é«˜åº¦ï¼Œä¸¤æ¬¡é«˜åº¦ä¸å˜åŒ–å°±è®¤ä¸ºåŠ è½½å®Œæ¯•ï¼Œç„¶åè¿”å›å¤§å°ï¼Œå¤„ç†çš„åœ°æ–¹åœ¨ è¿™é‡Œ\nè¿™ä¸ªå¤„ç†æ–¹å¼ç¡®å®å¯èƒ½åœ¨æŸäº›æƒ…å†µä¸‹ä¸å‡†ç¡®ï¼Œå¦‚æœ 350ms æ€»é«˜åº¦ä¸å˜åŒ–å°±ä¼šè§¦å‘ï¼Œä½†è¿™ä¸ªå¾ˆéš¾æƒè¡¡ï¼Œå› ä¸ºè¦ç¡®ä¿ä¸€å®šå‡†ç¡®çš„è¯å¯èƒ½è¿™ä¸ªæ—¶é—´é—´éš”è¦æ›´é•¿æˆ–è€…å¤šæ¬¡ä¸å˜åŒ–åå†è§¦å‘ï¼Œè¿™æ ·çš„è¯è§¦å‘çš„å°±ä¼šå¾ˆæ…¢ï¼ŒæŸäº›æƒ…å†µä¸‹ä¼šå¸¦æ¥é—®é¢˜ï¼ˆæ¯”å¦‚è¿›å…¥é¡µé¢åç­‰å¾…å›¾ç‰‡åŠ è½½å®Œè¦è·³è½¬åˆ°æŸä¸ªé”šç‚¹ï¼Œç­‰å¾…æ—¶é—´è¿‡é•¿å°±ä¼šå½±å“ä½“éªŒï¼‰ï¼Œæ‰€ä»¥è¿™é‡Œå¦‚æœè¦æ±‚å¾ˆé«˜çš„è¯å¯èƒ½éœ€è¦è‡ªè¡Œè°ƒæ•´ä¸€ä¸‹\npsï¼šå¯¹äºè¿™ä¸ªé—®é¢˜æœ€å‡†ç¡®çš„è·å–æ—¶æœºåº”è¯¥æ˜¯æ‰€æœ‰å›¾ç‰‡éƒ½è§¦å‘ load äº‹ä»¶çš„æ—¶å€™ï¼Œä½†ç”±äºå¼€å¯æ‡’åŠ è½½åï¼Œä¸€äº›å›¾ç‰‡ä¸ä¼šç«‹å³åŠ è½½ï¼Œæ‰€ä»¥æ— æ³•åˆ¤æ–­æ˜¯å¦å…¨éƒ¨åŠ è½½å®Œæ¯•ï¼Œä»¥åŠå¦å¤–ä¸€äº›åŸå› è¿™ä¸ªæ–¹æ³•ä¸é€‚ç”¨ï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡é«˜åº¦å˜åŒ–åˆ¤æ–­\n 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46  export default { data () { return { _timer: null } }, method () { /** * @description è·å–å†…å®¹å¤§å°å’Œä½ç½® * @return {Promise} */ getRect (selector) { return new Promise((resolve, reject) =\u003e { uni.createSelectorQuery() // #ifndef MP-ALIPAY \t.in(this) // #endif \t.select(selector).boundingClientRect().exec(res =\u003e res[0] ? resolve(res[0]) : reject(Error('Root label not found'))) }) }, watchGoodsDetail () { let times = 0; // ç›‘å¬æ¬¡æ•° \tlet maxTimes = 10; // è¿ç»­ 10 è·å–é«˜åº¦ç›¸åŒè§†ä¸ºåŠ è½½å®Œæ¯• \tlet wait = 350; // é—´éš” \tlet height = 0; // è¯¦æƒ…é«˜åº¦  clearInterval(this._timer) this._timer = setInterval(() =\u003e { this.getRect('#tab3').then(rect =\u003e { // 350ms æ€»é«˜åº¦æ— å˜åŒ–å°±è§¦å‘ ready äº‹ä»¶ \tif (rect.height === height) { times++ if (times \u003e= maxTimes) { clearInterval(this._timer) } } else { times = 0 height = rect.height this.onNavTargetChange() } }).catch(() =\u003e { }) }, wait) } } }   ","description":"","tags":["æºç ","uniapp","mp-html"],"title":"è§£å†³ uView Parse å¯Œæ–‡æœ¬è§£æå™¨ ready äº‹ä»¶è§¦å‘æ—¶æœºä¸å‡†ç¡®çš„é—®é¢˜","uri":"/2021-07-15/temp/"},{"categories":["å…¶ä»–"],"content":"å‚è€ƒæ–‡ç« ï¼š git subtreeæ•™ç¨‹ 1  git subtree push --prefix=content/posts post master   ç›®å‰ä¸»è¦ä½¿ç”¨è¿™ä¸‰ä¸ªå‘½ä»¤å³å¯ï¼Œåˆ†åˆ«æ˜¯æ·»åŠ ã€æ›´æ–°å’Œæ¨é€è¿œç¨‹ã€‚\n1 2 3  git subtree add --prefix=\u003cprefix\u003e \u003crepository\u003e \u003cref\u003e git subtree pull --prefix=\u003cprefix\u003e \u003crepository\u003e \u003cref\u003e git subtree push --prefix=\u003cprefix\u003e \u003crepository\u003e \u003cref\u003e   å…¶ä¸­ \u003cprefix\u003e æ˜¯å­æ¨¡å—çš„è·¯å¾„ï¼Œ\u003crepository\u003e æ˜¯å­æ¨¡å—è‡ªèº«çš„ git åœ°å€ã€‚\n1 2 3 4 5 6 7 8  { \"scripts\": { \"set:posts\": \"git remote add posts git@github.com:wencaizhang/wencaizhang.github.io.git\", \"add:posts\": \"git subtree add --prefix=content/posts post master \", \"pull:posts\": \"git subtree pull --prefix=content/posts post master \", \"push:posts\": \"git subtree push --prefix=content/posts post master\" } }   ","description":"","tags":["git"],"title":"git subtree ä½¿ç”¨è®°å½•","uri":"/2021-07-09/git-subtree/"},{"categories":["å…¶ä»–"],"content":"Git æ˜¯ç¨‹åºå‘˜æ—¥å¸¸å¼€å‘ç¦»ä¸å¼€çš„å·¥å…·ï¼Œåˆå¹¶åˆ†æ”¯ä¹Ÿæ˜¯å¤šäººå¼€å‘åä½œè¿‡ç¨‹ä¸­å¿…ä¸å¯å°‘çš„ç¯èŠ‚ã€‚\n","description":"","tags":["git"],"title":"ä¸€ä¸ªåˆå¹¶åˆ†æ”¯çš„æ–°å§¿åŠ¿","uri":"/2021-07-09/git-merge-squash/"},{"categories":["çŸ­ä»£ç "],"content":"è®¾ç½®inputå ä½ç¬¦çš„æ ·å¼\nHTML ä»£ç ï¼š\n1  \u003cinput type=\"text\" placeholder=\"è¯·è®¾ç½®ç”¨æˆ·å\"\u003e   CSS ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  input::-webkit-input-placeholder { /* Chrome/Opera/Safari */ color: red; } input::-moz-placeholder { /* Firefox 19+ */ color: red; } input:-ms-input-placeholder { /* IE 10+ */ color: red; } input:-moz-placeholder { /* Firefox 18- */ color: red; }   ç¤ºä¾‹ï¼š\n input::-webkit-input-placeholder { /* Chrome/Opera/Safari */ color: red; } input::-moz-placeholder { /* Firefox 19+ */ color: red; } input:-ms-input-placeholder { /* IE 10+ */ color: red; } input:-moz-placeholder { /* Firefox 18- */ color: red; } ","description":"","tags":["CSS","placeholder"],"title":"è®¾ç½®inputçš„placeholderçš„å­—ä½“æ ·å¼","uri":"/2021-06-06/set-styles-of-input-placeholder/"},{"categories":["çŸ­ä»£ç "],"content":"è®¾ç½®inputå ä½ç¬¦çš„æ ·å¼\nHTML ä»£ç ï¼š\n1 2 3  \u003cp class=\"scroll-container\"\u003e åº­é™¢æ·±æ·±ï¼Œä¸çŸ¥æœ‰å¤šæ·±ï¼Ÿæ¨æŸ³ä¾ä¾ï¼Œé£æ‰¬èµ·ç‰‡ç‰‡çƒŸé›¾ï¼Œä¸€é‡é‡å¸˜å¹•ä¸çŸ¥æœ‰å¤šå°‘å±‚ã€‚è±ªåçš„è½¦é©¬åœåœ¨è´µæ—å…¬å­å¯»æ¬¢ä½œä¹çš„åœ°æ–¹ï¼Œå¥¹ç™»æ¥¼å‘è¿œå¤„æœ›å»ï¼Œå´çœ‹ä¸è§é‚£é€šå‘ç« å°çš„å¤§è·¯ã€‚æ˜¥å·²è‡³æš®ï¼Œä¸‰æœˆçš„é›¨ä¼´éšç€ç‹‚é£å¤§ä½œï¼Œå†æ˜¯é‡é—¨å°†é»„æ˜æ™¯è‰²æ©é—­ï¼Œä¹Ÿæ— æ³•ç•™ä½æ˜¥æ„ã€‚æ³ªçœ¼æ±ªæ±ªé—®è½èŠ±å¯çŸ¥é“æˆ‘çš„å¿ƒæ„ï¼Œè½èŠ±é»˜é»˜ä¸è¯­ï¼Œçº·ä¹±çš„ï¼Œé›¶é›¶è½è½ä¸€ç‚¹ä¸€ç‚¹é£åˆ°ç§‹åƒå¤–ã€‚åº­é™¢æ·±æ·±ï¼Œä¸çŸ¥æœ‰å¤šæ·±ï¼Ÿæ¨æŸ³ä¾ä¾ï¼Œé£æ‰¬èµ·ç‰‡ç‰‡çƒŸé›¾ï¼Œä¸€é‡é‡å¸˜å¹•ä¸çŸ¥æœ‰å¤šå°‘å±‚ã€‚è±ªåçš„è½¦é©¬åœåœ¨è´µæ—å…¬å­å¯»æ¬¢ä½œä¹çš„åœ°æ–¹ï¼Œå¥¹ç™»æ¥¼å‘è¿œå¤„æœ›å»ï¼Œå´çœ‹ä¸è§é‚£é€šå‘ç« å°çš„å¤§è·¯ã€‚æ˜¥å·²è‡³æš®ï¼Œä¸‰æœˆçš„é›¨ä¼´éšç€ç‹‚é£å¤§ä½œï¼Œå†æ˜¯é‡é—¨å°†é»„æ˜æ™¯è‰²æ©é—­ï¼Œä¹Ÿæ— æ³•ç•™ä½æ˜¥æ„ã€‚æ³ªçœ¼æ±ªæ±ªé—®è½èŠ±å¯çŸ¥é“æˆ‘çš„å¿ƒæ„ï¼Œè½èŠ±é»˜é»˜ä¸è¯­ï¼Œçº·ä¹±çš„ï¼Œé›¶é›¶è½è½ä¸€ç‚¹ä¸€ç‚¹é£åˆ°ç§‹åƒå¤–ã€‚åº­é™¢æ·±æ·±ï¼Œä¸çŸ¥æœ‰å¤šæ·±ï¼Ÿæ¨æŸ³ä¾ä¾ï¼Œé£æ‰¬èµ·ç‰‡ç‰‡çƒŸé›¾ï¼Œä¸€é‡é‡å¸˜å¹•ä¸çŸ¥æœ‰å¤šå°‘å±‚ã€‚è±ªåçš„è½¦é©¬åœåœ¨è´µæ—å…¬å­å¯»æ¬¢ä½œä¹çš„åœ°æ–¹ï¼Œå¥¹ç™»æ¥¼å‘è¿œå¤„æœ›å»ï¼Œå´çœ‹ä¸è§é‚£é€šå‘ç« å°çš„å¤§è·¯ã€‚æ˜¥å·²è‡³æš®ï¼Œä¸‰æœˆçš„é›¨ä¼´éšç€ç‹‚é£å¤§ä½œï¼Œå†æ˜¯é‡é—¨å°†é»„æ˜æ™¯è‰²æ©é—­ï¼Œä¹Ÿæ— æ³•ç•™ä½æ˜¥æ„ã€‚æ³ªçœ¼æ±ªæ±ªé—®è½èŠ±å¯çŸ¥é“æˆ‘çš„å¿ƒæ„ï¼Œè½èŠ±é»˜é»˜ä¸è¯­ï¼Œçº·ä¹±çš„ï¼Œé›¶é›¶è½è½ä¸€ç‚¹ä¸€ç‚¹é£åˆ°ç§‹åƒå¤–ã€‚åº­é™¢æ·±æ·±ï¼Œä¸çŸ¥æœ‰å¤šæ·±ï¼Ÿæ¨æŸ³ä¾ä¾ï¼Œé£æ‰¬èµ·ç‰‡ç‰‡çƒŸé›¾ï¼Œä¸€é‡é‡å¸˜å¹•ä¸çŸ¥æœ‰å¤šå°‘å±‚ã€‚è±ªåçš„è½¦é©¬åœåœ¨è´µæ—å…¬å­å¯»æ¬¢ä½œä¹çš„åœ°æ–¹ï¼Œå¥¹ç™»æ¥¼å‘è¿œå¤„æœ›å»ï¼Œå´çœ‹ä¸è§é‚£é€šå‘ç« å°çš„å¤§è·¯ã€‚æ˜¥å·²è‡³æš®ï¼Œä¸‰æœˆçš„é›¨ä¼´éšç€ç‹‚é£å¤§ä½œï¼Œå†æ˜¯é‡é—¨å°†é»„æ˜æ™¯è‰²æ©é—­ï¼Œä¹Ÿæ— æ³•ç•™ä½æ˜¥æ„ã€‚æ³ªçœ¼æ±ªæ±ªé—®è½èŠ±å¯çŸ¥é“æˆ‘çš„å¿ƒæ„ï¼Œè½èŠ±é»˜é»˜ä¸è¯­ï¼Œçº·ä¹±çš„ï¼Œé›¶é›¶è½è½ä¸€ç‚¹ä¸€ç‚¹é£åˆ°ç§‹åƒå¤–ã€‚ \u003c/p\u003e   CSS ä»£ç ï¼š\n1 2 3 4 5 6 7  .scroll-container { width: 500px; height: 150px; border: 1px solid #ddd; padding: 15px; overflow: auto; /*å¿…é¡»*/ }   æ»šåŠ¨æ¡æ ·å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  .scroll-container::-webkit-scrollbar { width: 8px; background: white; } .scroll-container::-webkit-scrollbar-corner, /* æ»šåŠ¨æ¡è§’è½ */ .scroll-container::-webkit-scrollbar-thumb, .scroll-container::-webkit-scrollbar-track { /*æ»šåŠ¨æ¡çš„è½¨é“*/ border-radius: 4px; } .scroll-container::-webkit-scrollbar-corner, .scroll-container::-webkit-scrollbar-track { /* æ»šåŠ¨æ¡è½¨é“ */ background-color: rgba(180, 160, 120, 0.1); box-shadow: inset 0 0 1px rgba(180, 160, 120, 0.5); } .scroll-container::-webkit-scrollbar-thumb { /* æ»šåŠ¨æ¡æ‰‹æŸ„ */ background-color: #00adb5; }   ç¤ºä¾‹ï¼š\nåº­é™¢æ·±æ·±ï¼Œä¸çŸ¥æœ‰å¤šæ·±ï¼Ÿæ¨æŸ³ä¾ä¾ï¼Œé£æ‰¬èµ·ç‰‡ç‰‡çƒŸé›¾ï¼Œä¸€é‡é‡å¸˜å¹•ä¸çŸ¥æœ‰å¤šå°‘å±‚ã€‚è±ªåçš„è½¦é©¬åœåœ¨è´µæ—å…¬å­å¯»æ¬¢ä½œä¹çš„åœ°æ–¹ï¼Œå¥¹ç™»æ¥¼å‘è¿œå¤„æœ›å»ï¼Œå´çœ‹ä¸è§é‚£é€šå‘ç« å°çš„å¤§è·¯ã€‚æ˜¥å·²è‡³æš®ï¼Œä¸‰æœˆçš„é›¨ä¼´éšç€ç‹‚é£å¤§ä½œï¼Œå†æ˜¯é‡é—¨å°†é»„æ˜æ™¯è‰²æ©é—­ï¼Œä¹Ÿæ— æ³•ç•™ä½æ˜¥æ„ã€‚æ³ªçœ¼æ±ªæ±ªé—®è½èŠ±å¯çŸ¥é“æˆ‘çš„å¿ƒæ„ï¼Œè½èŠ±é»˜é»˜ä¸è¯­ï¼Œçº·ä¹±çš„ï¼Œé›¶é›¶è½è½ä¸€ç‚¹ä¸€ç‚¹é£åˆ°ç§‹åƒå¤–ã€‚åº­é™¢æ·±æ·±ï¼Œä¸çŸ¥æœ‰å¤šæ·±ï¼Ÿæ¨æŸ³ä¾ä¾ï¼Œé£æ‰¬èµ·ç‰‡ç‰‡çƒŸé›¾ï¼Œä¸€é‡é‡å¸˜å¹•ä¸çŸ¥æœ‰å¤šå°‘å±‚ã€‚è±ªåçš„è½¦é©¬åœåœ¨è´µæ—å…¬å­å¯»æ¬¢ä½œä¹çš„åœ°æ–¹ï¼Œå¥¹ç™»æ¥¼å‘è¿œå¤„æœ›å»ï¼Œå´çœ‹ä¸è§é‚£é€šå‘ç« å°çš„å¤§è·¯ã€‚æ˜¥å·²è‡³æš®ï¼Œä¸‰æœˆçš„é›¨ä¼´éšç€ç‹‚é£å¤§ä½œï¼Œå†æ˜¯é‡é—¨å°†é»„æ˜æ™¯è‰²æ©é—­ï¼Œä¹Ÿæ— æ³•ç•™ä½æ˜¥æ„ã€‚æ³ªçœ¼æ±ªæ±ªé—®è½èŠ±å¯çŸ¥é“æˆ‘çš„å¿ƒæ„ï¼Œè½èŠ±é»˜é»˜ä¸è¯­ï¼Œçº·ä¹±çš„ï¼Œé›¶é›¶è½è½ä¸€ç‚¹ä¸€ç‚¹é£åˆ°ç§‹åƒå¤–ã€‚åº­é™¢æ·±æ·±ï¼Œä¸çŸ¥æœ‰å¤šæ·±ï¼Ÿæ¨æŸ³ä¾ä¾ï¼Œé£æ‰¬èµ·ç‰‡ç‰‡çƒŸé›¾ï¼Œä¸€é‡é‡å¸˜å¹•ä¸çŸ¥æœ‰å¤šå°‘å±‚ã€‚è±ªåçš„è½¦é©¬åœåœ¨è´µæ—å…¬å­å¯»æ¬¢ä½œä¹çš„åœ°æ–¹ï¼Œå¥¹ç™»æ¥¼å‘è¿œå¤„æœ›å»ï¼Œå´çœ‹ä¸è§é‚£é€šå‘ç« å°çš„å¤§è·¯ã€‚æ˜¥å·²è‡³æš®ï¼Œä¸‰æœˆçš„é›¨ä¼´éšç€ç‹‚é£å¤§ä½œï¼Œå†æ˜¯é‡é—¨å°†é»„æ˜æ™¯è‰²æ©é—­ï¼Œä¹Ÿæ— æ³•ç•™ä½æ˜¥æ„ã€‚æ³ªçœ¼æ±ªæ±ªé—®è½èŠ±å¯çŸ¥é“æˆ‘çš„å¿ƒæ„ï¼Œè½èŠ±é»˜é»˜ä¸è¯­ï¼Œçº·ä¹±çš„ï¼Œé›¶é›¶è½è½ä¸€ç‚¹ä¸€ç‚¹é£åˆ°ç§‹åƒå¤–ã€‚åº­é™¢æ·±æ·±ï¼Œä¸çŸ¥æœ‰å¤šæ·±ï¼Ÿæ¨æŸ³ä¾ä¾ï¼Œé£æ‰¬èµ·ç‰‡ç‰‡çƒŸé›¾ï¼Œä¸€é‡é‡å¸˜å¹•ä¸çŸ¥æœ‰å¤šå°‘å±‚ã€‚è±ªåçš„è½¦é©¬åœåœ¨è´µæ—å…¬å­å¯»æ¬¢ä½œä¹çš„åœ°æ–¹ï¼Œå¥¹ç™»æ¥¼å‘è¿œå¤„æœ›å»ï¼Œå´çœ‹ä¸è§é‚£é€šå‘ç« å°çš„å¤§è·¯ã€‚æ˜¥å·²è‡³æš®ï¼Œä¸‰æœˆçš„é›¨ä¼´éšç€ç‹‚é£å¤§ä½œï¼Œå†æ˜¯é‡é—¨å°†é»„æ˜æ™¯è‰²æ©é—­ï¼Œä¹Ÿæ— æ³•ç•™ä½æ˜¥æ„ã€‚æ³ªçœ¼æ±ªæ±ªé—®è½èŠ±å¯çŸ¥é“æˆ‘çš„å¿ƒæ„ï¼Œè½èŠ±é»˜é»˜ä¸è¯­ï¼Œçº·ä¹±çš„ï¼Œé›¶é›¶è½è½ä¸€ç‚¹ä¸€ç‚¹é£åˆ°ç§‹åƒå¤–ã€‚  .scroll-container { width: 500px; height: 150px; border: 1px solid #ddd; padding: 15px; overflow: auto; } .scroll-container::-webkit-scrollbar { width: 8px; background: white; } .scroll-container::-webkit-scrollbar-corner, /* æ»šåŠ¨æ¡è§’è½ */ .scroll-container::-webkit-scrollbar-thumb, .scroll-container::-webkit-scrollbar-track { border-radius: 4px; } .scroll-container::-webkit-scrollbar-corner, .scroll-container::-webkit-scrollbar-track { /* æ»šåŠ¨æ¡è½¨é“ */ background-color: rgba(180, 160, 120, 0.1); box-shadow: inset 0 0 1px rgba(180, 160, 120, 0.5); } .scroll-container::-webkit-scrollbar-thumb { /* æ»šåŠ¨æ¡æ‰‹æŸ„ */ background-color: #00adb5; } ","description":"","tags":["CSS","scrollbar"],"title":"è®¾ç½®æ»šåŠ¨æ¡æ ·å¼","uri":"/2021-06-06/set-styles-of-scrollbar/"},{"categories":["å…¶ä»–"],"content":"ä½œä¸ºè½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆå¤šå¤šå°‘å°‘éƒ½è¯¥æ‡‚ä¸€äº› nginx çš„ä½¿ç”¨å’Œé…ç½®ï¼Œä¸‹é¢æ˜¯ nginx çš„å‡ ä¸ªç»å…¸åº”ç”¨åœºæ™¯ä¸‹çš„é…ç½®å†™æ³•ï¼Œè®°å½•ä¸‹æ¥ä»¥é˜²é—å¿˜ï¼Œç”¨åˆ°çš„æ—¶å€™ä¹Ÿå¯ä»¥ç›´æ¥è¿‡æ¥æ‹·è´ã€‚\nç«¯å£ç›‘å¬ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  server { # Standard HTTP Protocol  # æ ‡å‡†çš„ HTTP åè®®  listen 80; # Standard HTTPS Protocol  # æ ‡å‡†çš„ HTTPS åè®®  listen 443 ssl; # For http2  listen 443 ssl http2; # Listen on 80 using IPv6  # ä½¿ç”¨ IPv6 ç›‘å¬ 80 ç«¯å£  listen [::]:80; # Listen only on using IPv6  # ä»…ä½¿ç”¨ IPv6 ç›‘å¬ 80 ç«¯å£  listen [::]:80 ipv6only=on; }   è®¿é—®æ—¥å¿— 1 2 3 4 5 6 7 8 9  server { # Relative or full path to log file  # ä¸ºæ—¥å¿—æ–‡ä»¶æŒ‡å®šä¸€ä¸ªç›¸å¯¹æˆ–ç»å¯¹è·¯å¾„  access_log /path/to/file.log; # Turn 'on' or 'off'  # é€šè¿‡ 'on' æˆ–è€… 'off' æ§åˆ¶æ˜¯å¦å¯ç”¨  access_log on; }   åŸŸå æŒ‡å®šåŸŸåå’Œå¯¹åº”çš„ç½‘ç«™æ ¹ç›®å½•ä½ç½®ï¼Œserver_name å¯ä»¥æ˜¯åŸŸåã€äºŒçº§åŸŸåï¼Œä¹Ÿå¯ä»¥æ˜¯ ip åœ°å€ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  server { # Listen to yourdomain.com  # ç›‘å¬æ¥è‡ªåŸŸå yourdomain.com çš„è®¿é—®  server_name yourdomain.com; # Listen to multiple domains  # ç›‘å¬æ¥è‡ªå¤šä¸ªåŸŸåçš„è®¿é—®  server_name yourdomain.com www.yourdomain.com; # Listen to all domains  # ç›‘å¬ yourdomain.com çš„æ‰€æœ‰äºŒçº§åŸŸå  server_name *.yourdomain.com; # Listen to all top-level domains  # ç›‘å¬æ‰€æœ‰ yourdomain çš„é¡¶çº§åŸŸå  server_name yourdomain.*; # Listen to unspecified Hostnames (Listens to IP address itself)  # ä¸æŒ‡å®šåŸŸåï¼Œç›‘å¬è‡ªèº« IP çš„è®¿é—®  server_name \"\"; }   é™æ€èµ„æºè®¿é—® 1 2 3 4 5 6 7 8  server { listen 80; server_name yourdomain.com; location / { root /path/to/website; } }   é‡å®šå‘ 1 2 3 4 5  server { listen 80; server_name www.yourdomain.com; return 301 http://yourdomain.com$request_uri; }   1 2 3 4 5 6 7 8 9  server { listen 80; server_name www.yourdomain.com; location /redirect-url { return 301 http://otherdomain.com; } }   åå‘ä»£ç† 1 2 3 4 5 6 7 8 9 10 11  server { listen 80; server_name yourdomain.com; location / { proxy_pass http://0.0.0.0:3000; # where 0.0.0.0:3000 is your application server (Ex: node.js) bound on 0.0.0.0 listening on port 3000  } }   è´Ÿè½½å‡è¡¡ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  upstream node_js { server 0.0.0.0:3000; server 0.0.0.0:4000; server 123.131.121.122; } server { listen 80; server_name yourdomain.com; location / { proxy_pass http://node_js; } }   SSL è¯ä¹¦ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  server { listen 443 ssl; server_name yourdomain.com; ssl on; ssl_certificate /path/to/cert.pem; ssl_certificate_key /path/to/privatekey.pem; ssl_stapling on; ssl_stapling_verify on; ssl_trusted_certificate /path/to/fullchain.pem; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_session_timeout 1h; ssl_session_cache shared:SSL:50m; add_header Strict-Transport-Security max-age=15768000; } # Permanent Redirect for HTTP to HTTPS # å°† HTTP è®¿é—®æ°¸ä¹…é‡å®šå‘åˆ° HTTPS server { listen 80; server_name yourdomain.com; return 301 https://$host$request_uri; }   æ„Ÿè°¢ æ–‡ä¸­ç”¨åˆ°çš„é…ç½®å‡ ä¹éƒ½å‡ºè‡ª https://vishnu.hashnode.dev/nginx-cheatsheet è¿™ç¯‡æ–‡ç« ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šç»è¿‡ä¸ªäººç†è§£æ·»åŠ äº†ä¸€äº›è§£é‡Šè¯´æ˜ï¼Œç‰¹æ­¤è¯´æ˜ã€‚\n","description":"","tags":["nginx","å¤‡å¿˜"],"title":"Nginx å¸¸ç”¨é…ç½®å¤‡å¿˜æ¸…å• | nginx-cheatsheet","uri":"/2021-05-18/nginx-cheatsheet/"},{"categories":["çŸ­ä»£ç "],"content":"more åˆ©ç”¨ HTML5 åŸç”Ÿçš„ download å±æ€§æ¥ä¸‹è½½æ–‡æœ¬ä¿¡æ¯\nä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  /** * å‰ç«¯åˆ›å»ºå¹¶ä¸‹è½½æ–‡ä»¶ * @param {String} content æ–‡ä»¶å†…å®¹ * @param {String} filename æ–‡ä»¶åç§° * @param {String} MIME * MIMEç±»å‹å‚è€ƒæ‰‹å†Œ http://www.w3school.com.cn/media/media_mimeref.asp */ export function downloadFile (content, filename, MIME = 'application/octet-stream') { // åˆ›å»ºéšè—çš„å¯ä¸‹è½½é“¾æ¥  const eleLink = document.createElement('a') eleLink.download = filename eleLink.style.display = 'none' // å­—ç¬¦å†…å®¹è½¬å˜æˆblobåœ°å€  const blob = new Blob([content], { type: MIME }) eleLink.href = URL.createObjectURL(blob) // è§¦å‘ç‚¹å‡»äº‹ä»¶ï¼Œç„¶åç§»é™¤  document.body.appendChild(eleLink) eleLink.click() document.body.removeChild(eleLink) }   å…¶ä¸­ï¼Œå‚æ•° content æŒ‡éœ€è¦ä¸‹è½½çš„æ–‡æœ¬æˆ–å­—ç¬¦ä¸²å†…å®¹ï¼Œfilename æŒ‡ä¸‹è½½åˆ°ç³»ç»Ÿä¸­çš„æ–‡ä»¶åç§°ã€‚\nä»£ç æ¥æºï¼š JSå‰ç«¯åˆ›å»ºhtmlæˆ–jsonæ–‡ä»¶å¹¶æµè§ˆå™¨å¯¼å‡ºä¸‹è½½ ","description":"","tags":["JavaScript"],"title":"å‰ç«¯åˆ›å»ºå¹¶ä¸‹è½½æ–‡ä»¶","uri":"/2021-01-27/download-file/"},{"categories":["çŸ­ä»£ç "],"content":"ä½¿ç”¨ JavaScript å†…ç½®æ–¹æ³•å°†æ­£å¸¸æ—¶é—´æ ¼å¼è½¬åŒ–ä¸ºæ—¶é—´æˆ³\n1 2 3 4 5 6 7 8 9 10 11  /** * å°†æ­£å¸¸æ—¶é—´æ ¼å¼è½¬åŒ–ä¸ºæ—¶é—´æˆ³ * @param {String} time [æ­£å¸¸æ—¶é—´æ ¼å¼ï¼Œå¦‚ï¼š2019-04-01 13:10:10] */ export function getTimestamp (time = null) { // æ²¡æœ‰å¯¹ time åšåˆæ³•æ€§æ ¡éªŒ  // å‡è®¾ä¼ å…¥çš„ time éƒ½æ˜¯åˆæ³•çš„æ—¶é—´æ ¼å¼ï¼š2019-04-01 13:10:10  const date = time ? new Date(time.replace(/-/g, '/')) : new Date() const timestamp = date.getTime() // 13 ä½æ•°å­—ï¼Œç²¾ç¡®åˆ°æ¯«ç§’  return timestamp }   ","description":"","tags":["JavaScript","æ—¥æœŸ"],"title":"å°†æ­£å¸¸æ—¶é—´æ ¼å¼è½¬åŒ–ä¸ºæ—¶é—´æˆ³","uri":"/2021-01-27/transform-timestamp/"},{"categories":["çŸ­ä»£ç "],"content":"åœ¨å¼€å‘ç§»åŠ¨ç«¯ç½‘ç«™æ—¶ç»å¸¸éœ€è¦æ£€æŸ¥ç”¨æˆ·ç«¯è®¾å¤‡ç±»å‹ï¼Œä»¥ä¾¿åšå‡ºä¸åŒçš„è°ƒæ•´ã€‚\næ–¹å¼ä¸€ã€æ£€æµ‹æ‰‹æœºå¹³æ¿å’ŒPC 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  function detectDevice() { var isMobile = false, isTablet = false, isLaptop = false; if (window.innerWidth \u003c= 425) { isMobile = true; isTablet = false; isLaptop = false; } else if (window.innerWidth \u003c= 768) { isMobile = false; isTablet = true; isLaptop = false; } else { isMobile = false; isTablet = false; isLaptop = true; } } detectDevice();   åˆ¤æ–­æ˜¯å¦å¾®ä¿¡æµè§ˆå™¨ 1 2 3 4  function isWeChat () { const ua = navigator.userAgent.toLowerCase() return ua.match(/MicroMessenger/i) == \"micromessenger\" }   ","description":"","tags":["JavaScript"],"title":"æ£€æµ‹è®¾å¤‡ç±»å‹","uri":"/2021-01-27/detect-device/"},{"categories":["çŸ­ä»£ç "],"content":"æŸäº›æ—¶å€™æˆ‘ä»¬éœ€è¦å±•ç¤ºæŸä¸ªæ—¶é—´ç‚¹ç›¸å·®å½“å‰æ—¶åˆ»å¤šä¹…ï¼Œä¾‹å¦‚â€œä¸€å¤©å‰â€ï¼Œâ€œä¸€ä¸ªæœˆå‰â€ç­‰ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  /** * è®¡ç®—ä¼ å…¥çš„æ—¶é—´æˆ³å’Œå½“å‰æ—¶é—´ç›¸å·®äº†å¤šä¹… * @param {Number} timestamp [æ—¶é—´æˆ³] */ export function getTimeDiff (timestamp) { // å¦‚æœç²¾ç¡®åˆ°æ¯«ç§’ï¼Œæ—¶é—´æˆ³æ˜¯ 13 ä½æ•°å­—  // è¿™é‡ŒæŒ‰ç…§ç§’æ¥è®¡ç®—ï¼Œéœ€è¦å°†æ¯«ç§’è½¬æ¢ä¸ºç§’  if (timestamp \u003e 1 * 10 ** 12) { timestamp = timestamp / 1000 } var currentStamptime = Date.parse(new Date()) / 1000 var agoAt = 'åˆšåˆš' var diff = currentStamptime - timestamp var points = [ { value: 365 * 24 * 60 * 60, suffix: 'å¹´å‰', max: 2 }, { value: 30 * 24 * 60 * 60, suffix: 'æœˆå‰', max: 11 }, { value: 7 * 24 * 60 * 60, suffix: 'å‘¨å‰', max: 4 }, { value: 24 * 60 * 60, suffix: 'å¤©å‰', max: 6 }, { value: 60 * 60, suffix: 'å°æ—¶å‰', max: 23 }, { value: 10 * 60, suffix: '0åˆ†é’Ÿå‰', max: 5 } ] for (var i = 0; i \u003c points.length; i++) { var item = points[i] var mode = Math.floor(diff / item.value) if (mode \u003e= 1) { agoAt = Math.min(mode, item.max) + item.suffix break } } return agoAt }   ","description":"","tags":["JavaScript","æ—¥æœŸ"],"title":"è®¡ç®—ä¼ å…¥çš„æ—¶é—´æˆ³å’Œå½“å‰æ—¶é—´ç›¸å·®äº†å¤šä¹…","uri":"/2021-01-27/get-time-ago/"},{"categories":["çŸ­ä»£ç "],"content":"æˆ‘ä»¬çŸ¥é“å­˜å‚¨å®¹é‡å¥½å‡ ä¸ªä¸åŒçš„å•ä½ï¼Œå¦‚ KBã€MBã€GB ç­‰ç­‰ã€‚\nè€Œåœ¨åæ˜ ä¸€å—ç¡¬ç›˜çš„å…·ä½“å®¹é‡æ—¶ï¼Œæ€»æ˜¯éœ€è¦æ ¹æ®å…¶å®é™…å¤§å°é€‰ç”¨åˆé€‚çš„å•ä½ï¼Œä¾‹å¦‚æˆ‘æœ‰ä¸€å— 500GB çš„ç¡¬ç›˜å’Œä¸€æ ¹ 4GB çš„å†…å­˜æ¡ï¼Œå°±ä¸èƒ½è¯´æˆ 0.5GB çš„ç¡¬ç›˜å’Œ 4000MB çš„å†…å­˜æ¡ã€‚\nå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‡½æ•°æ¥å°†ä¸€ä¸ªå®¹é‡è½¬æ¢ä¸ºåˆé€‚çš„å•ä½æ¥è¡¨ç¤º\nè½¬æ¢å­˜å‚¨å®¹é‡å¤§å°\nvalue åº”å½“æ˜¯ä»¥ b ä½å•ä½çš„ å°äº 1 KBï¼Œåˆ™è½¬åŒ–æˆ B å°äº 1 MBï¼Œåˆ™è½¬åŒ–æˆ KB å°äº 1 GBï¼Œåˆ™è½¬åŒ–æˆ MB ä»¥æ­¤ç±»æ¨ï¼Œç›®å‰æœ€å¤§å•ä½ PB size: å•ä½å¤§å°ï¼Œè¿™é‡Œæ˜¯ 1000\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  export function formatStorageSize (currValue = 0, unit = 'B', size = 1024) { const unites = ['B', 'KB', 'MB', 'GB', 'TB', 'PB'] if (!unites.includes(unit)) { return new Error('è¯·è¾“å…¥æ ‡å‡†çš„å­˜å‚¨å•ä½') } const powSize = n =\u003e { const max = unites.length return max \u003e n ? Math.pow(size, n) : Infinity } const unitesTable = unites.map((unit, index) =\u003e { return { suffix: unit, minValue: 1 * powSize(index), maxValue: 1 * powSize(index + 1) } }) console.log(unitesTable) // å…ˆæ¢å¤åˆ°ä»¥ B ä¸ºå•ä½ç„¶åè¿›è¡Œè®¡ç®—  const value = powSize(unites.indexOf(unit)) * currValue const { suffix, minValue } = unitesTable.find(item =\u003e item.maxValue \u003e value) const ret = (value / minValue).toFixed(2) + ' ' + suffix return ret }   æµ‹è¯•ä»£ç  1    ","description":"","tags":["JavaScript"],"title":"è½¬æ¢å­˜å‚¨å®¹é‡å¤§å°","uri":"/2021-01-27/transform-size/"},{"categories":["çŸ­ä»£ç "],"content":"æƒ³è®©ä½ çš„ç½‘é¡µå¯ä»¥ blingbling åœ°é—ªè€€å—ï¼Ÿ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  .flash-wrap { position: relative; overflow: hidden; } .flash-wrap::after { content: \"\"; position: absolute; left: -100%; top: 0; width: 100%; height: 100%; transform: skewx(-25deg); background-image: -webkit-linear-gradient(0deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, .5), rgba(255, 255, 255, 0)); z-index: 10; } .flash-wrap:hover::after { animation: flash 2s ease infinite; animation-delay: .5s; } @keyframes flash { 0% { left: -100%; } 100% { left: 100%; } }   ","description":"","tags":["JavaScript"],"title":"é—ªè€€ä½ çš„div","uri":"/2021-01-27/flash/"},{"categories":["å…¶ä»–"],"content":"åœ¨ JavaScript ä¸­å½»åº•è§£å†³ä½ 0.1+0.2!==0.3çš„ç²¾åº¦é—®é¢˜ï¼Œè¿˜å¯ä»¥ç»™å°æ•°æŒ‰æ¡ä»¶å–å€¼ã€‚æ˜¯å¼€å‘è®¡ç®—é¡¹ç›®çš„å¿…å¤‡è‰¯å“\næœ¬ç¯‡æ¨èä¸‰ä¸ªå¯ç”¨äº JavaScript ä¸­æ•°å­—è®¡ç®—ä¸ä¸¢å¤±ç²¾åº¦çš„å¼€æºåº“ï¼Œå‡ç”± MikeMcl å¼€æºï¼ˆç»™å¤§ä½¬ç‚¹èµğŸ‘ï¼‰ï¼Œä¸‰ä¸ªåº“çš„ API ä¿æŒä¸€è‡´ï¼Œä½†ä¾§é‡ç‚¹ä¸åŒï¼Œä¸‹é¢ä¸€ä¸€è§£é‡Šã€‚\nä¸€ã€big.js ä¼ é€é—¨ï¼š https://github.com/MikeMcl/big.js æ–‡æ¡£ï¼š https://mikemcl.github.io/big.js/ é€‚åˆåªéœ€è¦ç®€å•è®¡ç®—çš„é¡¹ç›®\näºŒã€bignumber.js ä¼ é€é—¨ï¼š https://github.com/MikeMcl/bignumber.js æ–‡æ¡£ï¼š https://mikemcl.github.io/bignumber.js/ å¯ä»¥å¯¹å°æ•°è¿›è¡Œå‘ä¸Šæˆ–å‘ä¸‹å–å€¼ï¼Œé€‚åˆé‡‘èç±»é¡¹ç›®\nä¸‰ã€decimal.js ä¼ é€é—¨ï¼š https://github.com/MikeMcl/decimal.js æ–‡æ¡£ï¼š http://mikemcl.github.io/decimal.js decimal.js æä¾›äº†å¾ˆå¤šæ•°å­¦è®¡ç®—ç›¸å…³çš„å‡½æ•°ï¼Œä¾‹å¦‚æ­£å¼¦ä½™å¼¦å¯¹æ•°ç­‰å‡½æ•°ï¼Œéå¸¸é€‚åˆæ•°å­¦è®¡ç®—ç±»éœ€è¦è¿è¡Œå¾ˆå¤šæ•°å­¦å‡½æ•°çš„é¡¹ç›®ã€‚\n","description":"","tags":["å…¶ä»–","å·¥å…·","å¼€æºåº“"],"title":"æ¨è JavaScript ä¸­å¤„ç†æ•°å­—è®¡ç®—ç²¾åº¦é—®é¢˜çš„å¼€æºåº“","uri":"/2021-01-10/calculate-of-number-in-js/"},{"categories":["å…¶ä»–"],"content":"æ¯æ¬¡å†™æ–‡ç« ç»™åšæ–‡é…å›¾æ˜¯ä¸€ä»¶å¾ˆéº»çƒ¦çš„äº‹æƒ…ï¼Œä¸€å¼ å¼ åœ°æ‰¾ï¼Œæœ‰æ—¶å€™è´¨é‡è¿˜ä¸å¥½ï¼Œäºæ˜¯ä¹ï¼Œæˆ‘å°±å»å¯»æ‰¾äº†ä¸€æ³¢èƒŒæ™¯å›¾apiæ¥å£ï¼Œè¿™ä¸‹å¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘æ–‡ç« ä¸ä¼šé…å›¾äº†ï¼Œ\nAPI è°ƒç”¨æ–¹å¼å¾ˆç®€å•ï¼Œå°±æ˜¯ç›´æ¥æŠŠ api åœ°å€å½“åšå›¾ç‰‡åœ°å€æ¥è®¿é—®ï¼Œå½“æœåŠ¡å™¨æ¥æ”¶åˆ°è®¿é—®æ—¶ä¼šè‡ªåŠ¨é‡å®šå‘åˆ°ä¸€ä¸ªéšæœºçš„å›¾ç‰‡åœ°å€ã€‚\nä¸‹é¢åˆ—ä¸¾å‡ ä¸ª\nä¸€ã€å°æ­ªAPI ç½‘å€: https://api.ixiaowai.cn/  ç›®å‰ç³»ç»Ÿå…±æ”¶å½• 1000+ å¼ å›¾ç‰‡ APIæœ€åæ›´æ–°æ—¶é—´:2020-03-25\nå›¾ç‰‡å‡ä¸ºhttpsï¼Œé‡‡ç”¨æ–°æµªå›¾ç‰‡ï¼Œé«˜é€Ÿè®¿é—®\n 1.1 ç›´æ¥ä½¿ç”¨   å›¾ç‰‡APIåŸºæœ¬è°ƒç”¨æ ¼å¼ï¼š\n äºŒæ¬¡å…ƒåŠ¨æ¼«: https://api.ixiaowai.cn/api/api.php  mcé…±åŠ¨æ¼«: https://api.ixiaowai.cn/mcapi/mcapi.php  é«˜æ¸…å£çº¸: https://api.ixiaowai.cn/gqapi/gqapi.php     æ–‡å­—APIåŸºæœ¬è°ƒç”¨æ ¼å¼ï¼š\n ä¸€è¨€è¯­å½•: https://api.ixiaowai.cn/ylapi/index.php  èˆ”ç‹—æ—¥è®°: https://api.ixiaowai.cn/tgrj/index.php     1.2 JSON æ ¼å¼ è®¿é—®ä¸Šé¢çš„ api ä¼šç›´æ¥é‡å®šå‘åˆ°ä¸€ä¸ªéšæœºå›¾ç‰‡åœ°å€ï¼Œä½ å¯ä»¥åœ¨ api åé¢æ·»åŠ å‚æ•° type=json æ¥å¾—åˆ°ä¸€ä¸ª JSON æ ¼å¼çš„ç»“æœï¼š\nä¾‹å¦‚ï¼š\n å›¾ç‰‡åˆ—ï¼š https://api.ixiaowai.cn/api/api.php?return=json  æ–‡å­—åˆ—ï¼š https://api.ixiaowai.cn/ylapi/index.php/?code=js   è¿”å› JSON æ•°æ®ç¤ºä¾‹\n1 2 3 4 5 6  { \"code\": \"200\", \"imgurl\": \"https://tva3.sinaimg.cn/large/0072Vf1pgy1fodqoysytvj31hc0u0qcq.jpg\", \"width\": \"1920\", \"height\": \"1080\" }   äºŒã€åŠ¨æ¼«æ˜Ÿç©º ç›®å‰ åŠ¨æ¼«æ˜Ÿç©º å…±æ”¶å½• 8åƒä¸‡+ å¼ 4Kç²¾ç¾å›¾ç‰‡ åŠ¨æ¼«æ˜Ÿç©ºéšæœºå›¾ç‰‡APIï¼Œé«˜é€Ÿï¼Œå…è´¹ï¼Œæ— å¹¿å‘Š æ³¨æ„ï¼š ç›®å‰ä»…æä¾›1080Pæ¥å£ï¼Œ2Kå’Œ4Kæ¥å£åç»­å¼€æ”¾ï¼Œæ›´å¤šåŠ¨æ€è¯·æŒç»­å…³æ³¨ åŠ¨æ¼«æ˜Ÿç©ºAPIå®˜ç½‘ åŠ åŠ¨æ¼«æ˜Ÿç©ºå¾®ä¿¡å…¬ä¼—å· ï¼Œç¬¬ä¸€æ—¶é—´è·å–å®˜æ–¹æ›´æ–°ä¿¡æ¯ HTMLè°ƒç”¨æ ¼å¼ 1080Pï¼š\nhttps://api.dongmanxingkong.com/suijitupian/acg/1080p/index.php å‚æ•°ï¼š type=json JSONè°ƒç”¨æ ¼å¼ 1080Pï¼š\nhttps://api.dongmanxingkong.com/suijitupian/acg/1080p/index.php?return=json JSONæ•°æ®\n1 2 3 4 5 6  { \"code\": \"200\", \"imgurl\": \"https://tvax2.sinaimg.cn/large/0072Vf1pgy1fodqpio0roj31kw0v47wh.jpg\", \"width\": \"2048\", \"height\": \"1120\" }   ä¸‰ç§‹APIæ¥å£ç«™ ç›®å‰ç³»ç»Ÿå…±æ”¶å½• 3k9+ å¼ å›¾ç‰‡ APIæœ€åæ›´æ–°æ—¶é—´:2020-07-14\nå›¾ç‰‡å‡ä¸ºhttpsï¼Œé‡‡ç”¨åˆæ‹äº‘å­˜å‚¨ï¼Œé«˜é€Ÿè®¿é—®\n è‡ªåˆ¤æ–­äºŒæ¬¡å…ƒAPIï¼š https://api.ghser.com/random/api.php  PCéšæœºäºŒæ¬¡å…ƒAPIï¼š https://api.ghser.com/random/pc.php  PEéšæœºäºŒæ¬¡å…ƒAPIï¼š https://api.ghser.com/random/pe.php  éšæœºäºŒæ¬¡å…ƒé£æ™¯APIï¼š https://api.ghser.com/random/bg.php   ","description":"","tags":["å…¶ä»–","å·¥å…·"],"title":"ç»™åšå®¢æ­é…éšæœºå›¾ç‰‡","uri":"/2021-01-08/random-image-for-blog/"},{"categories":["çŸ­ä»£ç "],"content":"å½“ç”¨æˆ·ç™»å½•ä½ çš„ç³»ç»Ÿæ—¶ï¼Œå¦‚æœèƒ½å¤Ÿç»™å‡ºä¸€ä¸ªå‹å¥½æœ‰è¶£çš„æç¤ºè¯­ï¼Œæƒ³å¿…æ›´èƒ½è®©ä½ çš„ç”¨æˆ·æ„Ÿå—åˆ°å¼€å‘è€…çš„ç”¨å¿ƒã€‚\nä»Šå¤©åˆ†äº«ä¸€ä¸ªå½“ç”¨æˆ·ç™»å…¥ç³»ç»Ÿçš„å‹å¥½æç¤ºè¯­ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  function timeFix () { const time = new Date() const hour = time.getHours() const timeMap = { 9: 'æ—©ä¸Šå¥½', 11: 'ä¸Šåˆå¥½', 13: 'ä¸­åˆå¥½', 20: 'ä¸‹åˆå¥½', 24: 'æ™šä¸Šå¥½' } const key = Object.keys(timeMap).find(key =\u003e hour \u003c= key) return timeMap[key] } function welcome () { const arr = ['ä¼‘æ¯ä¸€ä¼šå„¿å§', 'å‡†å¤‡åƒä»€ä¹ˆå‘¢?', 'è¦ä¸è¦æ‰“ä¸€æŠŠ DOTA', 'æˆ‘çŒœä½ å¯èƒ½ç´¯äº†'] const index = Math.floor(Math.random() * arr.length) return arr[index] }   ç‚¹æˆ‘è¯•è¯•\n function timeFix () { const time = new Date() const hour = time.getHours() const timeMap = { 9: 'æ—©ä¸Šå¥½', 11: 'ä¸Šåˆå¥½', 13: 'ä¸­åˆå¥½', 20: 'ä¸‹åˆå¥½', 24: 'æ™šä¸Šå¥½' } const key = Object.keys(timeMap).find(key = hour ","description":"","tags":["JavaScript"],"title":"æ¬¢è¿æç¤ºè¯­åˆ†äº«","uri":"/2020-12-29/welcome-message/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"èƒŒæ™¯äº¤ä»£ æœ€è¿‘è´Ÿè´£çš„ä¸€ä¸ªå‰ç«¯é¡¹ç›®éšç€éœ€æ±‚å’ŒåŠŸèƒ½çš„å‡çº§ï¼Œä»£ç è¶Šå†™è¶Šå¤æ‚ï¼Œå°¤å…¶æ˜¯ç™»å½•æ¨¡å—çš„åˆ¤æ–­é€»è¾‘ï¼Œå°±åƒæ˜¯é‚£è€å¤ªå¤ªçš„ç¼ è„šå¸ƒâ€”â€”åˆè‡­åˆé•¿!\nåˆšå¥½è¶ç€ç™»å½•çš„éœ€æ±‚å˜æ›´ï¼Œä½¿ç”¨è´£ä»»é“¾æ¨¡å¼æŠŠç›¸å…³ä»£ç é‡æ„äº†ä¸€ç•ªï¼Œé‡æ„ä¹‹åå†çœ‹ä»£ç ï¼Œå•§å•§ï¼Œä»£ç ä¹‹æ•´æ´ä¸”é€»è¾‘æ¸…æ™°ï¼Œå¿ä¸ä½è¦ç»™è‡ªå·±é€ä¸€æœµå°çº¢èŠ± ğŸŒº â€”â€” ä¼˜ç§€ï¼\næ’¸èµ·è¢–å­åŠ æ²¹å¹² æˆ‘ä»¬çº¦å®šå¥½ï¼Œå°†å•ä¸ªåˆ¤æ–­é€»è¾‘å°è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°æ¥æ”¶ç›¸åŒçš„å‚æ•°ï¼Œè¿”å›å€¼çš„ç»Ÿä¸€ä¸ºä¸€ä¸ª promiseã€‚\nå¦‚æœåˆ¤æ–­é€šè¿‡ï¼Œå¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥åˆ¤æ–­ï¼Œè¿”å› fulfill çŠ¶æ€çš„ promiseï¼Œå¦‚æœæœªé€šè¿‡éœ€è¦ç»“æŸåç»­åˆ¤æ–­ï¼Œåˆ™è¿”å› rejected çŠ¶æ€çš„ promiseã€‚\nè¿™é‡Œçš„ä»£ç å‡ä¸ºç¤ºæ„ä»£ç ï¼Œå…¶ä¸­çš„åˆ¤æ–­é€»è¾‘éƒ½è¿›è¡Œäº†ç®€åŒ–ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  function handlePwdExpired (resp) { if (resp.expired === 1) { // å¯†ç è¿‡æœŸå¤„ç†é€»è¾‘  console.log('å¯†ç è¿‡æœŸï¼Œè¯·ä¿®æ”¹å¯†ç åé‡æ–°ç™»å½•') return Promise.rejected('å¯†ç è¿‡æœŸ') } return Promise.resolve(resp) } function handleAuthStatus (resp) { if (resp.status === 1) { return Promise.resolve(resp) } // å®åè®¤è¯æœªé€šè¿‡å¤„ç†é€»è¾‘  console.log('å®åè®¤è¯æœªé€šè¿‡ï¼Œè¯·è€å¿ƒç­‰å¾…') return Promise.rejected('å®åè®¤è¯æœªé€šè¿‡') } function handleDefault (resp) { console.log('é€»è¾‘åˆ¤æ–­ç»“æŸï¼Œè¿›å…¥ç³»ç»Ÿ') }   å®šä¹‰å¥½ä¸Šé¢å¤„ç†ç­–ç•¥ä¹‹åï¼Œæˆ‘ä»¬æ¥è°ƒç”¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  // å‡å®šæˆ‘ä»¬å·²ç»æ‹¿åˆ°äº†å“åº” const resp = { status: 1, expired: 1, } Promise.resolve(resp) .then(resp =\u003e { return handlePwdExpired(resp) }) .then(resp =\u003e { return handleAuthStatus(resp) }) .then(resp =\u003e { return handleDefault(resp) }) .catch(err =\u003e { console.log(err); })   ","description":"ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼é™ä½ä»£ç è€¦åˆåº¦ï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘å¿ƒæ™ºè´Ÿæ‹…","tags":["è´£ä»»é“¾æ¨¡å¼","promise","ä»£ç é‡æ„"],"title":"è´£ä»»é“¾æ¨¡å¼","uri":"/2020-12-12/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"èƒŒæ™¯äº¤ä»£ åœºæ™¯ä¸€ï¼šè½¬æ¢æ•°æ®æ ¼å¼ Vue ä¸­çš„ computed å±æ€§å°±æ˜¯ç°æˆçš„ä¸€ä¸ªé€‚é…å™¨ï¼š\n1 2 3 4 5 6 7 8 9 10  const vm = new Vue({ data: { authors: [ 'å¼ æ•™æˆ', 'ç‹æ•™æˆ'] }, computed: { authorsText () { return this.authors.join('ã€') } } })   åˆæ¯”å¦‚\næ’¸èµ·è¢–å­åŠ æ²¹å¹² ","description":"","tags":["é€‚é…å™¨æ¨¡å¼","ä»£ç é‡æ„"],"title":"é€‚é…å™¨æ¨¡å¼","uri":"/2020-12-12/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/"},{"categories":["CSS"],"content":"ä¸€ã€å•è¡Œçœç•¥ 1 2 3  \u003cdiv class=\"elip w100\" style=\"border: 1px solid #5184f6;\"\u003e ä¸¤ä¸ªé»„é¹‚é¸£ç¿ æŸ³ï¼Œä¸€è¡Œç™½é¹­ä¸Šé’å¤©ã€‚çª—å«è¥¿å²­åƒç§‹é›ªï¼Œé—¨æ³Šä¸œå´ä¸‡é‡Œèˆ¹ã€‚ \u003c/div\u003e   1 2 3 4 5 6 7 8 9 10 11 12 13  /* å•è¡Œæ–‡æœ¬æº¢å‡ºçœç•¥ */ .elip { /* éšè—æº¢å‡ºå†…å®¹ */ overflow: hidden; /* ä¸æ¢è¡Œï¼Œå¼ºåˆ¶æ–‡æœ¬åœ¨ä¸€è¡Œæ˜¾ç¤º */ white-space: nowrap; /* æº¢å‡ºçš„éƒ¨åˆ†è¿›è¡Œçœç•¥ */ text-overflow: ellipsis; } .w100 { /* è®¾ç½®å®½åº¦ï¼Œä¸€å®šä¸è¦å¿˜äº† */ width: 100px; }   æ•ˆæœå¦‚ä¸‹ï¼š\n .elip { overflow: hidden; white-space: nowrap; text-overflow: ellipsis; } .w100 { width: 100px; }  ä¸¤ä¸ªé»„é¹‚é¸£ç¿ æŸ³ï¼Œä¸€è¡Œç™½é¹­ä¸Šé’å¤©ã€‚çª—å«è¥¿å²­åƒç§‹é›ªï¼Œé—¨æ³Šä¸œå´ä¸‡é‡Œèˆ¹ã€‚  è¦æƒ³å®ç°å•è¡Œæ–‡æœ¬è¶…å‡ºå®½åº¦çœç•¥ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹å‡ ç‚¹\nåªè¦æ»¡è¶³äº†ä¸Šé¢ 4 ç‚¹ï¼Œå•è¡Œæ–‡æœ¬çš„æº¢å‡ºçœç•¥å°±å¾ˆå®¹æ˜“å®ç°ã€‚ä½†ç°å®æƒ…å†µä¸­ï¼Œé™¤äº†å•è¡Œæ–‡æœ¬å¤–è¿˜æœ‰å¾ˆå¤šåœºæ™¯æ˜¯éœ€è¦å®ç°å¤šè¡Œæ–‡æœ¬æº¢å‡ºçœç•¥çš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·æ¥çœ‹å¦‚ä½•å®ç°è¿™ä¸ªéœ€æ±‚ã€‚\näºŒã€å¤šè¡Œæ–‡æœ¬æº¢å‡ºçœç•¥ ä¹‹æ‰€ä»¥è¯´å¤šè¡Œæ–‡æœ¬æº¢å‡ºçœç•¥ä¸å®¹æ˜“å®ç°ï¼Œæ˜¯å› ä¸ºåœ¨ CSS è§„èŒƒä¸­ text-overflow: ellipsis åªé€‚ç”¨äºå•è¡Œæ–‡æœ¬ï¼ŒåŒæ—¶å¹¶æ²¡æœ‰é€‚ç”¨äºå¤šè¡Œæ–‡æœ¬æº¢å‡ºçœç•¥çš„è§„åˆ™ã€‚å› æ­¤æˆ‘ä»¬åªèƒ½å¦è¾Ÿè¹Šå¾„æ¥å®ç°è¿™ä¸ªéœ€æ±‚ã€‚\nä½¿ç”¨æµè§ˆå™¨ç§æœ‰å±æ€§æ¥å®ç° 1 2 3 4 5 6 7 8  .box { width: 200px; padding: 0 !important; /* padding å¿…é¡»ä¸º 0 */ overflow: hidden; display: -webkit-box; /* ç±»ä¼¼äº flexbox çš„è‡ªé€‚åº”å¸ƒå±€ */ -webkit-box-orient: vertical; /* å…ƒç´ æ’åˆ—æ–¹å‘ï¼šä»ä¸Šåˆ°ä¸‹ */ -webkit-line-clamp: 4; /* ç¬¬å››è¡Œåå¼€å§‹çœç•¥ */ }    .box { width: 200px; padding: 0; overflow: hidden; display: -webkit-box; /* ç±»ä¼¼äº flexbox çš„è‡ªé€‚åº”å¸ƒå±€ */ -webkit-box-orient: vertical; /* å…ƒç´ æ’åˆ—æ–¹å‘ï¼šä»ä¸Šåˆ°ä¸‹ */ -webkit-line-clamp: 4; /* ç¬¬å››è¡Œåå¼€å§‹çœç•¥ */ } .border { border: 1px solid #ccc; }  æœ‰ä¸€å¤©ï¼ŒèƒèŸ¹æ’åˆ°äº†ç”°èºã€‚ç”°èºè¯´:â€œèŸ¹èŸ¹ï¼Œä½ æ’åˆ°æˆ‘äº†â€ï¼ŒèƒèŸ¹è¯´:â€œä¸ç”¨è°¢â€ã€‚ç”°èºå›é“:â€œè°¢ä½ å¦¹å•Šï¼Œæˆ‘æ˜¯è¯´ä½ æ’åˆ°æˆ‘äº†ï¼Œä½ æ˜¯ä¸æ˜¯çå•Šâ€ï¼ŒèƒèŸ¹ä¸€è„¸å§”å±ˆåœ°è¯´:â€œæˆ‘ä¸æ˜¯è™¾å•Šï¼Œæˆ‘æ˜¯èƒèŸ¹â€ æœ‰ä¸€å¤©ï¼ŒèƒèŸ¹æ’åˆ°äº†ç”°èºã€‚ç”°èºè¯´:â€œèŸ¹èŸ¹ï¼Œä½ æ’åˆ°æˆ‘äº†â€ï¼ŒèƒèŸ¹è¯´:â€œä¸ç”¨è°¢â€ã€‚ç”°èºå›é“:â€œè°¢ä½ å¦¹å•Šï¼Œæˆ‘æ˜¯è¯´ä½ æ’åˆ°æˆ‘äº†ï¼Œä½ æ˜¯ä¸æ˜¯çå•Šâ€ï¼ŒèƒèŸ¹ä¸€è„¸å§”å±ˆåœ°è¯´:â€œæˆ‘ä¸æ˜¯è™¾å•Šï¼Œæˆ‘æ˜¯èƒèŸ¹â€\n å…¶ä¸­ padding å¿…é¡»ä¿è¯ä¸º 0ï¼Œå¦åˆ™ç«‹é©¬ç ´åŠŸï¼Œè¿™ä¸€ç‚¹å¾ˆå®¹æ˜“è¢«å¿½ç•¥æ‰ï¼Œæœ‰å…´è¶£çš„å¯ä»¥æµ‹è¯•ä¸€ä¸‹ã€‚\nè¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯å†™æ³•ç®€æ´æ˜äº†ï¼ˆç›¸å¯¹äºä½¿ç”¨ js æˆªå–æ–‡æœ¬ï¼‰ï¼Œä½†ç¼ºç‚¹å°±æ˜¯é€šè¿‡ç§æœ‰å±æ€§å®ç°ï¼Œä¸è¿‡ç»æµ‹è¯•åœ¨ chromeã€firefoxã€safari ä»¥åŠç§»åŠ¨ç«¯å’Œå°ç¨‹åºéƒ½èƒ½ç”Ÿæ•ˆï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†åœºæ™¯è¿˜æ˜¯å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•çš„ã€‚\næœ‰ä¸€å¤©ï¼ŒèƒèŸ¹æ’åˆ°äº†ç”°èºã€‚ç”°èºè¯´:â€œèŸ¹èŸ¹ï¼Œä½ æ’åˆ°æˆ‘äº†â€ï¼ŒèƒèŸ¹è¯´:â€œä¸ç”¨è°¢â€ã€‚ç”°èºå›é“:â€œè°¢ä½ å¦¹å•Šï¼Œæˆ‘æ˜¯è¯´ä½ æ’åˆ°æˆ‘äº†ï¼Œä½ æ˜¯ä¸æ˜¯çå•Šâ€ï¼ŒèƒèŸ¹ä¸€è„¸å§”å±ˆåœ°è¯´:â€œæˆ‘ä¸æ˜¯è™¾å•Šï¼Œæˆ‘æ˜¯èƒèŸ¹â€  p { height: 210px; overflow: hidden; position: relate } p::before { content: \"...\"; }  https://wencaizhang.github.io/study/p/elip.html ### -- ä¸‰ã€ä»£ç æ€»ç»“ åŸç†ææ˜ç™½ä¹‹åï¼Œä¸ºäº†æ›´æ–¹ä¾¿åœ°åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œæˆ‘æ•´ç†å‡ºæ¥äº†è¿™æ®µ CSS ä»£ç ï¼Œå…¶ä¸­é¢„è®¾äº† 5 ä¸ª class æ ·å¼ï¼Œç±»åéƒ½æ˜¯ elip-line-x çš„æ ¼å¼ï¼Œå…¶ä¸­ x ä»£è¡¨ä½ æƒ³è¦æœ€å¤šå±•ç¤º x è¡Œæ–‡å­—ï¼Œå–å€¼èŒƒå›´æ˜¯ 1-5ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  /* start--æ–‡æœ¬è¡Œæ•°é™åˆ¶--start */ .elip-line-1 { overflow: hidden; white-space: nowrap; text-overflow: ellipsis; } .elip-line-2, .elip-line-3, .elip-line-4, .elip-line-5 { padding: 0 !important; overflow: hidden; word-break: break-all; text-overflow: ellipsis; display: -webkit-box; -webkit-box-orient: vertical; } .elip-line-2 { -webkit-line-clamp: 2; } .elip-line-3 { -webkit-line-clamp: 3; } .elip-line-4 { -webkit-line-clamp: 4; } .elip-line-5 { -webkit-line-clamp: 5; } /* end--æ–‡æœ¬è¡Œæ•°é™åˆ¶--end */   æœ‰äº†ä¸Šé¢è¿™æ®µä»£ç ï¼Œç›´æ¥ç»™ä»»æ„å…ƒç´ åŠ ä¸Š elip-line-x ç±»å³å¯è½»æ¾å®ç°æœ€å¤š x è¡Œæ–‡å­—æ˜¾ç¤ºçœç•¥å·ç‚¹ç‚¹ç‚¹æ•ˆæœã€‚å¦‚æœæœ€å¤šæ˜¾ç¤º 5 è¡Œä¸æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œä½ ä¹Ÿå¯ä»¥æ ¹æ®ä»£ç æ‰©å±•åˆ°ä»»æ„è¡Œæ•°ã€‚\n","description":"CSSå¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·æ˜¾ç¤ºç‚¹ç‚¹ç‚¹...","tags":["css","æ–‡æœ¬æº¢å‡º"],"title":"CSSå¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·æ˜¾ç¤ºç‚¹ç‚¹ç‚¹...","uri":"/2020-06-28/css-text-overflow-ellipsis/"},{"categories":null,"content":" æ ¹æ® moment.js å¾—åˆ°ä¸€ä¸ªå•ä½æ—¶é—´æˆ–è€…æ—¶é—´æ®µï¼ˆå¦‚æœ¬å‘¨ï¼Œä¸Šå‘¨ï¼Œæœ¬æœˆï¼Œä¸Šæœˆï¼Œå½“å‰å­£åº¦ï¼Œä¸Šä¸ªå­£åº¦ï¼‰çš„å¼€å§‹ç»“æŸæ—¶é—´\n   momentjs æ–‡æ¡£   ä¸»è¦åˆ©ç”¨ä»¥ä¸‹å‡ é¡¹ APIï¼š\n format(): å¾—åˆ°æ ¼å¼åŒ–çš„æ—¶é—´ startOf(): å¾—åˆ°ä¸€ä¸ªå•ä½æ—¶é—´çš„å¼€å§‹æ—¶é—´ç‚¹ï¼Œ æ–‡æ¡£  endOf(): å¾—åˆ°ä¸€ä¸ªå•ä½æ—¶é—´çš„ç»“æŸæ—¶é—´ç‚¹ add(): åœ¨æŒ‡å®šæ—¶é—´ç‚¹çš„åŸºç¡€ä¸Šï¼ŒåŠ ä¸Šä¸€ä¸ªæ—¶é—´æ®µ subtract(): åœ¨æŒ‡å®šæ—¶é—´ç‚¹çš„åŸºç¡€ä¸Šï¼Œå‡å»ä¸€ä¸ªæ—¶é—´æ®µ week(): è·å–æˆ–è®¾ç½®ä¸€ä¸ªæ—¶é—´å¯¹è±¡çš„å‘¨æ•°ï¼ˆç¬¬å‡ å‘¨ï¼‰ month(): è·å–æˆ–è®¾ç½®ä¸€ä¸ªæ—¶é—´å¯¹è±¡çš„æœˆä»½ quarter(): è·å–æˆ–è®¾ç½®ä¸€ä¸ªæ—¶é—´å¯¹è±¡çš„å­£åº¦  å¤© 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  // è·å–å½“å¤©å¼€å§‹ç»“æŸæ—¶é—´ function getCurrDays () { let date = moment() let start = date.startOf('days').format('YYYY-MM-DD HH:mm:ss') let end = date.endOf('days').format('YYYY-MM-DD HH:mm:ss') return [ start, end ] } // è·å–æ˜¨å¤©çš„å¼€å§‹ç»“æŸæ—¶é—´ function getYesterday () { let date = moment().subtract('days',1); let start = date.startOf('days').format('YYYY-MM-DD HH:mm:ss') let end = date.endOf('days').format('YYYY-MM-DD HH:mm:ss') return [ start, end ] } // è·å–æ˜å¤©çš„å¼€å§‹ç»“æŸæ—¶é—´ function getTomorrow () { let date = moment().add('days',1); let start = date.startOf('days').format('YYYY-MM-DD HH:mm:ss') let end = date.endOf('days').format('YYYY-MM-DD HH:mm:ss') return [ start, end ] }   å‘¨ è·å–æŸä¸€å‘¨ï¼ˆæœ¬å‘¨ï¼Œä¸Šå‘¨ï¼Œä¸‹å‘¨ï¼‰çš„å¼€å§‹ç»“æŸæ—¶é—´ï¼Œä¸€å‘¨ä»å‘¨æ—¥å¼€å§‹åˆ°å‘¨å…­ç»“æŸã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  // æœ¬å‘¨ function getCurrWeekDays () { let date = moment() let start = date.startOf('week').format('YYYY-MM-DD HH:mm:ss') let end = date.endOf('week').format('YYYY-MM-DD HH:mm:ss') return [ start, end ] } // ä¸Šä¸€å‘¨ function getLastWeekDays () { let date = moment().week(moment().week() - 1) let start = date.startOf('week').format('YYYY-MM-DD HH:mm:ss') let end = date.endOf('week').format('YYYY-MM-DD HH:mm:ss') return [ start, end ] } // ä¸‹ä¸€å‘¨ function getNextWeekDays () { let date = moment().week(moment().week() + 1) let start = date.startOf('week').format('YYYY-MM-DD HH:mm:ss') let end = date.endOf('week').format('YYYY-MM-DD HH:mm:ss') return [ start, end ] }   æœˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  // æœ¬æœˆ function getCurrMonthDays () { let date = moment() let start = date.startOf('month').format('YYYY-MM-DD') let end = date.endOf('month').format('YYYY-MM-DD') return [ start, end ]; } // ä¸Šä¸ªæœˆ function getLastMonthDays () { let date = moment().month(moment().month() - 1) let start = date.startOf('month').format('YYYY-MM-DD') let end = date.endOf('month').format('YYYY-MM-DD') return [ start, end ]; } // ä¸‹ä¸ªæœˆ function getNextMonthDays () { let date = moment().month(moment().month() + 1) let start = date.startOf('month').format('YYYY-MM-DD') let end = date.endOf('month').format('YYYY-MM-DD') return [ start, end ]; }   å­£åº¦ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  // å½“å‰å­£åº¦ function getCurrQuarter () { let date = moment() let start = date.startOf('quarter').format('YYYY-MM-DD') let end = date.endOf('quarter').format('YYYY-MM-DD') return [ start, end ]; } // ä¸Šä¸ªå­£åº¦ function getLastQuarter () { let date = moment().quarter(moment().quarter() - 1) let start = date.startOf('quarter').format('YYYY-MM-DD') let end = date.endOf('quarter').format('YYYY-MM-DD') return [ start, end ]; } // ä¸‹ä¸ªå­£åº¦ function getLastQuarter () { let date = moment().quarter(moment().quarter() + 1) }   DRY -  Don't repeat yourself.\n ä¸Šé¢ä»£ç ä¸­å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªå›ºå®šç»“æ„é‡å¤äº†å¥½å¤šæ¬¡ï¼š\n1 2 3 4 5 6  function getX () { let date = x let start = date.startOf('æ—¶é—´å•ä½ç±»å‹').format('æ ¼å¼åŒ–') let end = date.endOf('æ—¶é—´å•ä½ç±»å‹').format('æ ¼å¼åŒ–') return [ start, end ]; }   æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸“é—¨å°è£…ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼ˆæ—¶é—´ï¼Œæ—¶é—´å•ä½ï¼Œæ ¼å¼åŒ–ï¼‰ï¼Œè¿”å›å¼€å§‹å’Œç»“æŸæ—¶é—´ã€‚\n1 2 3 4 5  function getDuringTime (date, type, format) { let start = date.startOf(type).format(format) let end = date.endOf(type).format(format) return [ start, end ]; }   æœ‰äº†æ­¤å·¥å…·å‡½æ•°ï¼Œå°†ä¸Šé¢ä»£ç æ±‡æ€»å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78  /** * @param {date} date [momentjs æ—¶é—´å¯¹è±¡] * @param {String} type [å•ä½æ—¶é—´ç±»å‹] * @param {String} format [æ—¶é—´æ ¼å¼] * type å¯ä»¥æ¥æ”¶çš„å€¼ï¼š year, month, quarter, week, isoWeek, day, date, hour, minute, second */ function getDuringTime (date=moment(), type='days', format='YYYY-MM-DD HH:mm:ss') { let start = date.startOf(type).format(format) let end = date.endOf(type).format(format) return [ start, end ]; } // è·å–å½“å¤©å¼€å§‹ç»“æŸæ—¶é—´ function getCurrDays () { let date = moment() return getDuringTime(date, 'days', 'YYYY-MM-DD') } // è·å–æ˜¨å¤©çš„å¼€å§‹ç»“æŸæ—¶é—´ function getYesterday () { let date = moment().subtract('days',1) return getDuringTime(date, 'days', 'YYYY-MM-DD') } // è·å–æ˜å¤©çš„å¼€å§‹ç»“æŸæ—¶é—´ function getTomorrow () { let date = moment().add('days',1) return getDuringTime(date, 'days', 'YYYY-MM-DD') } // è·å–æŸä¸€å‘¨ï¼ˆæœ¬å‘¨ï¼Œä¸Šå‘¨ï¼Œä¸‹å‘¨ï¼‰çš„å¼€å§‹ç»“æŸæ—¶é—´ï¼Œä¸€å‘¨ä»å‘¨æ—¥å¼€å§‹åˆ°å‘¨å…­ç»“æŸã€‚ // æœ¬å‘¨ function getCurrWeekDays () { let date = moment() return getDuringTime(date, 'week', 'YYYY-MM-DD') } // ä¸Šä¸€å‘¨ function getLastWeekDays () { let date = moment().week(moment().week() - 1) return getDuringTime(date, 'week', 'YYYY-MM-DD') } // ä¸‹ä¸€å‘¨ function getNextWeekDays () { let date = moment().week(moment().week() + 1) return getDuringTime(date, 'week', 'YYYY-MM-DD') } // æœ¬æœˆ function getCurrMonthDays () { let date = moment() return getDuringTime(date, 'month', 'YYYY-MM-DD') } // ä¸Šä¸ªæœˆ function getLastMonthDays () { let date = moment().month(moment().month() - 1) return getDuringTime(date, 'month', 'YYYY-MM-DD') } // ä¸‹ä¸ªæœˆ function getNextMonthDays () { let date = moment().month(moment().month() + 1) return getDuringTime(date, 'month', 'YYYY-MM-DD') } // å½“å‰å­£åº¦ function getCurrQuarter () { let date = moment() return getDuringTime(date, 'quarter', 'YYYY-MM-DD') } // ä¸Šä¸ªå­£åº¦ function getLastQuarter () { let date = moment().quarter(moment().quarter() - 1) return getDuringTime(date, 'quarter', 'YYYY-MM-DD') } // ä¸‹ä¸ªå­£åº¦ function getLastQuarter () { let date = moment().quarter(moment().quarter() + 1) return getDuringTime(date, 'quarter', 'YYYY-MM-DD') }    æœ¬æ–‡å®Œï¼Œæ„Ÿè°¢é˜…è¯»ã€‚:stuck_out_tongue_winking_eye:\n","description":"","tags":["momentjs"],"title":"Get the Beginning and Ending in a Unit of Time via Momentjs","uri":"/2019-11-19/get-the-beginning-and-ending-in-a-unit-of-time-via-momentjs/"},{"categories":null,"content":" Ubuntu åŸºç¡€è®¾ç½®ï¼ŒåŒ…å«ä¸€äº›å¸¸ç”¨è½¯ä»¶å®‰è£…ï¼Œé…ç½®æ–‡ä»¶ä¿®æ”¹ç­‰ç­‰ã€‚\n è¿™ç¯‡æ–‡ç« çš„æ„ä¹‰åœ¨äºï¼Œå½“ä½ æ‹¿åˆ°ä¸€ä¸ªæ–°çš„ Ubuntu ç³»ç»Ÿä¹‹åï¼Œç›´æ¥æŒ‰ç…§æœ¬æ–‡çš„æ­¥éª¤è¿›è¡Œè®¾ç½®ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªé¡ºæ‰‹çš„å¼€å‘/éƒ¨ç½²ç¯å¢ƒã€‚ä¸å†éœ€è¦é€é¡¹æœç´¢æ¯ä¸ªè½¯ä»¶çš„å®‰è£…æ­¥éª¤äº†ã€‚\n è®¾ç½®å›½å†…è½¯ä»¶é•œåƒæº node git docker nginx oh-my-zsh alias vim  è®¾ç½®ç³»ç»Ÿè½¯ä»¶é•œåƒæº é…ç½®ç³»ç»Ÿæºç¬¬ä¸€ä»¶äº‹æ˜¯ä¿®æ”¹é•œåƒæºï¼Œè¿™æ ·æ–¹ä¾¿åç»­å…¶ä»–è½¯ä»¶çš„å®‰è£…ã€‚åœ¨å›½å†…å¯ä»¥é€‰æ‹©é˜¿é‡Œäº‘çš„æºã€‚\n1 2 3 4 5 6  # ç¼–è¾‘æºæ–‡ä»¶ sudo vim /etc/apt/sources.list # åœ¨VIMç¼–è¾‘å™¨å†…æ›¿æ¢é»˜è®¤æºä¸ºé˜¿é‡Œäº‘ :0,$ s/archive.ubuntu.com/mirrors.aliyun.com/ # ä¿å­˜æºæ–‡ä»¶å¹¶é€€å‡º :wq   åŒ…ç®¡ç†å·¥å…·å®‰è£… å…ˆæ›´æ–°\n1  sudo apt update -y \u0026\u0026 sudo apt upgrade -y     Linuxä¸­aptä¸apt-getå‘½ä»¤çš„åŒºåˆ«ä¸è§£é‡Š   linuxå‘½ä»¤ç³»åˆ— sudo apt-get updateå’Œupgradeçš„åŒºåˆ«   å®‰è£…å¸¸ç”¨è½¯ä»¶\né€šå¸¸ä¼šæœ‰ä¸€äº›æ˜¯é»˜è®¤å®‰è£…çš„ï¼Œæ¯”å¦‚ git vim wget curl vimï¼Œå¦‚æœæ²¡æœ‰ï¼Œç”¨ä¸‹é¢æ–¹å¼å®‰è£…å³å¯ã€‚\n1  sudo apt install zsh nginx tree -y   oh-my-zsh å…³äº zsh å’Œ oh-my-zsh å¯ä»¥å‚è€ƒï¼š ç»ˆæ Shellâ€”â€”ZSH å®‰è£… è„šæœ¬å®‰è£…ï¼š\n1  wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh   æˆ–è€…æ‰‹åŠ¨å®‰è£…:\n1 2  git clone https://github.com/ohmyzsh/ohmyzsh.git ~/.oh-my-zsh cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc   å®‰è£…å®Œæˆä¹‹åé€€å‡ºå½“å‰ä¼šè¯é‡æ–°æ‰“å¼€ä¸€ä¸ªç»ˆç«¯çª—å£å³å¯ã€‚\næ’ä»¶ (1) autojump github åœ°å€ autojump ä¸‹è½½å¹¶æ‰§è¡Œ\n1 2  wget https://github.com/downloads/joelthelion/autojump/autojump_v21.1.2.tar.gz ./install.sh   æœ€åæŠŠä»¥ä¸‹ä»£ç åŠ å…¥.zshrc:\n1  [[ -s ~/.autojump/etc/profile.d/autojump.sh ]] \u0026\u0026 . ~/.autojump/etc/profile.d/autojump.sh   node(nvm) nvm github åœ°å€ï¼š nvm-sh/nvm æ–¹æ³•ä¸€ï¼šè„šæœ¬å®‰è£… æ‰§è¡Œè„šæœ¬\n1 2 3  curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.1/install.sh | bash # æˆ–è€… wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.1/install.sh | bash   æœ€åï¼Œå°†ä¸‹é¢å†…å®¹åˆ†åˆ«æ·»åŠ åˆ° ~/.bashrc, ~/.profile, å’Œ ~/.zshrc æ–‡ä»¶ä¸­ã€‚\nexport NVM_DIR=\"$([ -z \"${XDG_CONFIG_HOME-}\" ] \u0026\u0026 printf %s \"${HOME}/.nvm\" || printf %s \"${XDG_CONFIG_HOME}/nvm\")\" [ -s \"$NVM_DIR/nvm.sh\" ] \u0026\u0026 \\. \"$NVM_DIR/nvm.sh\" # This loads nvm åŠ è½½é…ç½®æ–‡ä»¶ï¼š\n1  source ~/.bashrc   æ–¹æ³•äºŒï¼šgit å®‰è£… å°†ä»£ç å…‹éš†åˆ°ç”¨æˆ·ç›®å½•ä¸‹ï¼š\n1 2  cd ~/ git clone https://github.com/nvm-sh/nvm.git .nvm   åˆ‡æ¢åˆ°æœ€æ–°ç‰ˆæœ¬\n1 2  cd ~/.nvm git checkout v0.35.1   æ¿€æ´» nvmï¼Œåœ¨å‘½ä»¤è¡Œæ‰§è¡Œï¼š\n1  . nvm.sh   æœ€åï¼Œå°†ä¸‹é¢å†…å®¹åˆ†åˆ«æ·»åŠ åˆ° ~/.bashrc, ~/.profile, å’Œ ~/.zshrc æ–‡ä»¶ä¸­ã€‚\nexport NVM_DIR=\"$HOME/.nvm\" [ -s \"$NVM_DIR/nvm.sh\" ] \u0026\u0026 \\. \"$NVM_DIR/nvm.sh\" # This loads nvm [ -s \"$NVM_DIR/bash_completion\" ] \u0026\u0026 \\. \"$NVM_DIR/bash_completion\" # This loads nvm bash_completion å®Œæˆä¹‹åï¼Œé€šè¿‡ nvm -v æŸ¥çœ‹ç‰ˆæœ¬æ¥éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸã€‚\ndocker å®‰è£… Docker 1  curl -fsSL https://get.docker.com -o get-docker.sh \u0026\u0026 sudo sh get-docker.sh   å®‰è£… Compose 1 2 3 4 5 6 7  sudo curl -L \"https://github.com/docker/compose/releases/download/1.22.0/docke-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose # ç»™Docker Compose æ‰§è¡Œæƒé™ sudo chmod +x /usr/local/bin/docker-compose #æŸ¥çœ‹Dockerå’ŒDocker Composeçš„ç‰ˆæœ¬ sudo docker version sudo docker-compose version   è®¾ç½®é•œåƒæº æ‰§è¡Œä¸‹é¢å‘½ä»¤è¿›è¡Œè®¾ç½®\nps: é˜¿é‡Œäº‘é•œåƒæºæ˜¯ä¸ªäººæ³¨å†Œé˜¿é‡Œäº‘è´¦å·ä¹‹ååˆ†é…çš„ä¸ªäººä¸“å±é•œåƒæºã€‚\n1 2 3 4 5 6 7 8  sudo mkdir -p /etc/docker sudo tee /etc/docker/daemon.json \u003c\u003c-'EOF' { \"registry-mirrors\": [\"https://oojjt1xs.mirror.aliyuncs.com\"] } EOF sudo systemctl daemon-reload sudo systemctl restart docker   vim é…ç½® æœ‰äº›ç³»ç»Ÿé»˜è®¤æ²¡æœ‰å®‰è£…\né…ç½®æ–‡ä»¶è·¯å¾„ï¼š\n å…¨å±€é…ç½®æ–‡ä»¶ï¼š/etc/vim/vimrc å½“å‰ç”¨æˆ·é…ç½®æ–‡ä»¶ï¼š~/.vimrc  å°†ä¸‹é¢å†…å®¹ç²˜è´´åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼š\n\" å·¦å•å¼•å·è¡¨ç¤ºå•è¡Œæ³¨é‡Š \" ç¼–ç æŒ‡å®š UTF-8 set fileencodings=utf-8,ucs-bom,gb18030,gbk,gb2312,cp936 set termencoding=utf-8 set encoding=utf-8 set number \" æ˜¾ç¤ºè¡Œå· set cursorline \" çªå‡ºæ˜¾ç¤ºå½“å‰è¡Œ set ruler \" æ‰“å¼€çŠ¶æ€æ æ ‡å°º è®¾ç½®åˆ«å(alias) å°†æ‰€æœ‰çš„åˆ«åæ”¾åœ¨å•ç‹¬ä¸€ä¸ªæ–‡ä»¶ .bash_aliases ä¸­ï¼Œè¿™æ ·æ›´åŠ æ–¹ä¾¿ç®¡ç†ï¼Œubuntu ä¹Ÿæ¨èè¿™ç§åšæ³•ã€‚\n1 2 3  if [ -f ~/.bash_aliases ]; then . ~/.bash_aliases fi   æ³¨æ„ï¼šç­‰å·ä¸¤ä¾§ä¸èƒ½æœ‰ç©ºæ ¼!\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  # ä»£æ›¿é”®ç›˜ä¸Šéš¾ä»¥è§¦åŠçš„ ~ é”® alias home=\"cd ~\" # åŒæ ·ä¹Ÿå¯ä»¥ä¸ºä¸€äº›æ·±å±‚å´å¾ˆå¸¸ç”¨çš„ç›®å½•è®¾ç½®åˆ«å # å¦‚ï¼šå®å¡”é¢åŒ…çš„ nginx é…ç½®ç›®å½• alias ng=\"cd /www/server/panel/vhost/nginx\" # å›é€€å¤šçº§ç›®å½• alias bk1=\"cd ..\" alias bk2=\"cd ../..\" alias bk3=\"cd ../../..\" alias bk4=\"cd ../../../..\" alias bk5=\"cd ../../../../..\" # ls ç›¸å…³ alias cls='clear' alias ll='ls -l' alias la='ls -a' # git ç›¸å…³ alias gs='git status' alias glog=\"git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Cr eset %s %Cgreen(%cr) %C(bold blue)\u003c%an\u003e%Creset' --abbrev-commit\" # è§£å‹ alias -s gz='tar -xzvf' alias -s tgz='tar -xzvf' alias -s zip='unzip' alias -s bz2='tar -xjvf' # other alias vi='vim' alias grep=\"grep --color=auto\" alias tree=\"tree -I '*svn|*node_module*'\"   Python3 ç³»ç»Ÿå‡çº§åˆ° ubuntu 20.04 ä¹‹åï¼Œç§»é™¤äº† Python 2ï¼Œåªä¿ç•™äº† Python 3ã€‚\nå› æ­¤é»˜è®¤ä¸èƒ½æ‰§è¡Œ Python å‘½ä»¤ï¼Œä½†å¯ä»¥æ‰§è¡Œ python3ã€‚\nå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨ /usr/bin ä¸‹åˆ›å»ºä¸€ä¸ªè½¯é“¾æ¥ï¼ŒæŒ‡å‘ python3ã€‚\n1  sudo ln -s /usr/bin/python3 /usr/bin/python   æ³¨æ„ï¼šé¿å…æŸäº›è½¯ä»¶éœ€è¦ç”¨çš„ python3ï¼Œæ‰€ä»¥ä¸å»ºè®®æŠŠ python3 çš„è½¯è¿æ¥åˆ é™¤\n æœ¬æ–‡å®Œï¼Œæ„Ÿè°¢é˜…è¯»ã€‚:stuck_out_tongue_winking_eye:\n","description":"","tags":["ubuntu"],"title":"Basic Setup for Ubuntu","uri":"/2019-11-17/basic-setup-for-ubuntu/"},{"categories":null,"content":"ä½¿ç”¨è„šæœ¬å¿«é€Ÿå®‰è£… å®‰è£… Docker:\n1  curl -fsSL https://get.docker.com -o get-docker.sh \u0026\u0026 sudo sh get-docker.sh   å®‰è£… docker-compose\n1 2 3 4 5 6 7 8 9  sudo curl -L \"https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$(uname -s)-$(uname -m)\" \\ -o /usr/local/bin/docker-compose # ç»™Docker Compose æ‰§è¡Œæƒé™ sudo chmod +x /usr/local/bin/docker-compose # æŸ¥çœ‹Dockerå’ŒDocker Composeçš„ç‰ˆæœ¬ sudo docker version sudo docker-compose version   è®¾ç½®é˜¿é‡Œäº‘é•œåƒ 1 2 3 4 5 6 7 8  sudo mkdir -p /etc/docker sudo tee /etc/docker/daemon.json \u003c\u003c-'EOF' { \"registry-mirrors\": [\"https://oojjt1xs.mirror.aliyuncs.com\"] } EOF sudo systemctl daemon-reload sudo systemctl restart docker   é˜¿é‡Œäº‘é•œåƒæºéœ€è¦ä¸ªäººæ³¨å†Œé˜¿é‡Œäº‘è´¦å·ä¹‹åæ‰èƒ½ä½¿ç”¨ï¼Œè¿™é‡Œæˆ‘å·²ç»æ³¨å†Œè¿‡äº†ã€‚\nä¸‰ä¸ªæ¦‚å¿µ  Dockerä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µï¼šRegistryæ³¨å†Œä¸­å¿ƒï¼ŒImageé•œåƒï¼ŒContainerå®¹å™¨\n  RegistryåŒ…å«å¤šä¸ªRepoï¼ˆä»“åº“ï¼‰å’ŒTag(æ ‡ç­¾)ï¼Œä»Registryä¸‹è½½Imageçš„æ–¹å¼æ˜¯pull \u003cä»“åº“å\u003e:\u003cæ ‡ç­¾å\u003eï¼Œå¦‚pull ubuntu:16.04\n  Imageæ˜¯ä¸€ä¸ªé™æ€æ¦‚å¿µï¼Œç›¸å½“äºé¢å‘å¯¹è±¡ä¸­çš„ç±»ï¼Œç±»ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦å®ä¾‹åŒ–ã€‚\n  Containeræ˜¯ä¸€ä¸ªåŠ¨æ€æ¦‚å¿µï¼Œç›¸å½“äºé¢å‘å¯¹è±¡ä¸­çš„å®ä¾‹åŒ–ï¼Œå¯åŠ¨é•œåƒç”Ÿæˆå®¹å™¨å°±æ˜¯å®ä¾‹åŒ–ç±»çš„è¿‡ç¨‹ã€‚åªæœ‰å®¹å™¨æ‰èƒ½è¢«ç”¨æˆ·ä½¿ç”¨ã€‚\n   æŸ¥çœ‹å‘½ä»¤    å‘½ä»¤ æè¿°     docker images åˆ—å‡ºæœ¬åœ°é•œåƒ   docker ps åˆ—å‡ºå®¹å™¨    åˆ›å»ºå®¹å™¨   åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨ï¼Œå¹¶è¿›å…¥äº¤äº’æ¨¡å¼çš„ç»ˆç«¯\n1  docker run -it centos:latest /bin/bash     åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è®¾ç½®ç«¯å£æ˜ å°„\n1  docker run -d -p 3000:80 centos:latest     è¿›å…¥ä¸€ä¸ªæ­£åœ¨åå°è¿è¡Œçš„å®¹å™¨\n1  docker attach [container-id]     é€€å‡ºå®¹å™¨   é€€å‡ºå®¹å™¨\n1  exit     é€€å‡ºå®¹å™¨å¹¶ä¿æŒå®¹å™¨åå°è¿è¡Œ\nCtrl + p + q   ä»å®¹å™¨åˆ›å»ºæ–°çš„é•œåƒ   é¦–å…ˆæ‹¿åˆ°å®¹å™¨ ID ï¼Œç„¶åä½¿ç”¨å¦‚ä¸‹å‘½ä»¤åˆ›å»ºé•œåƒï¼š\n1  docker commit -a \"é•œåƒä½œè€…åå­—\" -m \"æäº¤æ—¶çš„è¯´æ˜æ–‡å­—\" [container-id] [image-name]:[tag]     WordPress å¯åŠ¨æ–¹å¼   åˆ›å»ºå®¹å™¨\n1  docker run -it -p 3000:80 -p 4000:8888 my_wp:v1 /bin/bash     è½¯ä»¶å¯åŠ¨\n1 2 3 4 5 6 7 8 9  /etc/init.d/nginx start /etc/init.d/mysqld start /etc/init.d/memcached start /etc/init.d/php-fpm-72 start /etc/init.d/bt start     é€€å‡ºå®¹å™¨ï¼Œå¹¶ä¿æŒå®¹å™¨åœ¨åå°è¿è¡Œ\n1  Ctrl + p + q     ç›¸å…³æ–‡æ¡£   Dockerå‘½ä»¤å¤§å…¨ - èœé¸Ÿæ•™ç¨‹   daocloud é•œåƒç«™   Docker â€” ä»å…¥é—¨åˆ°å®è·µ(è¯­é›€)   ","description":"Docker çš„å¿«é€Ÿå®‰è£…ã€é•œåƒæºè®¾ç½®å’ŒåŸºæœ¬ä½¿ç”¨","tags":["docker"],"title":"Basic Usage of Docker","uri":"/2019-11-16/basic-usage-of-docker/"},{"categories":null,"content":"å®‰è£… 1 2  # ubuntu sudoÂ aptÂ installÂ nginxÂ -y   å‘½ä»¤ nginxÂ å‘½ä»¤    æè¿° å‘½ä»¤ å‘½ä»¤äºŒ     å¯åŠ¨ sudoÂ nginx sudo /usr/sbin/nginx   åœæ­¢ sudoÂ nginxÂ -sÂ stop sudo /usr/sbin/nginx -s stop   é‡å¯ sudoÂ nginxÂ -sÂ restart sudo /usr/sbin/nginx -s restart   é‡è½½é…ç½®æ–‡ä»¶ sudoÂ nginxÂ -sÂ reload sudo /usr/sbin/nginxÂ -s reload    nginxÂ ç›®å½•    æè¿° å‘½ä»¤     nginxÂ å®‰è£…ç›®å½• /usr/sbin/nginx   é»˜è®¤ç½‘ç«™æ ¹ç›®å½• /usr/share/nginx/html   é…ç½®æ–‡ä»¶ /etc/nginx/nginx.confÂ     æŸ¥æ‰¾Â nginxÂ å®‰è£…ç›®å½•çš„å‘½ä»¤    æè¿° å‘½ä»¤     æŸ¥æ‰¾ nginxÂ å®‰è£…ç›®å½• whichÂ nginx   æŸ¥æ‰¾ nginxÂ é…ç½®æ–‡ä»¶ sudoÂ findÂ /Â -nameÂ nginx.conf   æ£€æµ‹é…ç½®æ–‡ä»¶è¯­æ³•æ˜¯å¦æ­£ç¡®ï¼š sudoÂ /usr/sbin/nginxÂ -t    å¸¸è§ä½¿ç”¨åœºæ™¯ (ä¸€) é™æ€ç½‘ç«™ æŒ‡å®šåŸŸåå’Œå¯¹åº”çš„ç½‘ç«™æ ¹ç›®å½•ä½ç½®ï¼Œserver_name å¯ä»¥æ˜¯åŸŸåã€äºŒçº§åŸŸåï¼Œä¹Ÿå¯ä»¥æ˜¯ ip åœ°å€ã€‚\nserver { listen 80; server_name demo.example.com; location / { root /www/demo/; index index.html index.htm; } } (äºŒ) åå‘ä»£ç† åœºæ™¯ï¼š\n è§£å†³è·¨åŸŸé—®é¢˜ï¼Œåˆ©ç”¨ nginx æ¥è®¿é—®å…¶ä»–åŸŸåä¸‹çš„æ¥å£ å½“ docker æœåŠ¡çš„ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºä¸ŠæŸä¸ªç«¯å£ï¼ˆå¦‚ 8080ï¼‰æ—¶ï¼Œå¯ä»¥è®¾ç½®äºŒçº§åŸŸåä»£ç† 8080 ç«¯å£ã€‚  server { server_name docker.example.com; listen 80; location / { proxy_pass http://localhost:8000; proxy_set_header Host $host; proxy_set_header X-Forward-For $remote_addr; } } (ä¸‰) è´Ÿè½½å‡è¡¡ upstream backend { server backend1.example.com weight=5; server backend2.example.com:8080; server unix:/tmp/backend3; } server { location / { proxy_pass http://backend; } } ä¸€äº›å­¦ä¹ èµ„æº  Nginxä¸­æ–‡æ–‡æ¡£ ","description":"Nginx çš„å®‰è£…å’ŒåŸºæœ¬å‘½ä»¤ | Basic Usage of Nginx","tags":["nginx"],"title":"Nginx çš„å®‰è£…å’ŒåŸºæœ¬å‘½ä»¤ | Basic Usage of Nginx","uri":"/2019-11-16/basic-usage-of-nginx/"},{"categories":null,"content":"åˆå­¦ JavaScript çš„æ—¶å€™ï¼Œæ—¶å¸¸å¯¹äºä»£ç ä¸­ this çš„å€¼æ„Ÿåˆ°å›°æƒ‘ï¼Œå› ä¸º JavaScript ä¸­çš„ this çš„å€¼æ€»æ˜¯ä¸ç¡®å®šçš„ï¼Œæ¯æ¬¡éƒ½è¦å°† this çš„å€¼æ‰“å°å‡ºæ¥æ‰èƒ½æ”¾å¿ƒã€‚\nå®é™…ä¸Š this å…·ä½“æŒ‡å‘å“ªä¸ªå¯¹è±¡æ˜¯åœ¨å‡½æ•°è¿è¡Œæ—¶çš„ç¯å¢ƒåŠ¨æ€ç»‘å®šçš„ï¼Œè€Œéå‡½æ•°è¢«å£°æ˜æ—¶çš„ç¯å¢ƒã€‚\nå°½ç®¡å¦‚æ­¤ï¼Œæ€»è¿˜æ˜¯æœ‰è§„å¾‹å¯å¾ªçš„ï¼Œæˆ‘ä»¬å¯ä»¥å°† this çš„åœºæ™¯å¤§è‡´åˆ†ä¸ºä¸‹é¢ 5 ç§ï¼š\n ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ ä½œä¸ºæ„é€ å™¨è°ƒç”¨ é€šè¿‡ call å’Œ apply è°ƒç”¨ ç®­å¤´å‡½æ•°   åœ¨ ES6 æ ‡å‡†æ–°å¢çš„ç®­å¤´å‡½æ•°ä¸­çš„ this æ˜¯ç”±è¢«å£°æ˜çš„ç¯å¢ƒå³ä¸Šä¸‹æ–‡æ¥ç¡®å®šçš„ã€‚\n æƒ…å†µä¸€ï¼šä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ è¿™å¯èƒ½æ˜¯æˆ‘ä»¬å­¦ä¹ è¿‡ç¨‹ä¸­æœ€å…ˆæ¥è§¦åˆ°çš„ä¸€ç§å‡½æ•°ç±»å‹ã€‚\n1) æ™®é€šå‡½æ•°ï¼š\nå½“å‡½æ•°ä½œä¸ºæ™®é€šå‡½æ•°æˆ–è€…åŒ¿åå‡½æ•°è°ƒç”¨æ—¶ï¼Œthis æ€»æ˜¯æŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨ä¸­è¿™ä¸ªå…¨å±€å¯¹è±¡æ˜¯ windowï¼Œè€Œåœ¨ nodejs ä¸­å…¨å±€å¯¹è±¡æ˜¯ globalï¼Œè¿™é‡Œè®¨è®ºçš„æ˜¯æµè§ˆå™¨ç«¯ï¼Œæ‰€æœ‰ä»£ç éƒ½å¯ä»¥åœ¨ chrome å¼€å‘è€…å·¥å…·çš„ console é¢æ¿ä¸­æ‰§è¡Œã€‚\n1 2 3 4 5 6 7 8 9  window.name = 'globalName' function printName1 () { console.log(this === window) console.log(this.name) } printName1() // true // \"globalName\"   ES5 è§„èŒƒæå‡ºäº†ã€Œä¸¥æ ¼æ¨¡å¼ã€ï¼Œå¯ç”¨æ–¹å¼æ˜¯åœ¨æ•´ä¸ªè„šæœ¬æ–‡ä»¶ç¬¬ä¸€è¡Œæˆ–è€…å‡½æ•°å†…ç¬¬ä¸€è¡Œæ·»åŠ ä¸€æ¡è¯­å¥ 'use strict' å³å¯å¼€å¯ä¸¥æ ¼æ¨¡å¼ã€‚\nå¦‚æœå¯ç”¨ã€Œä¸¥æ ¼æ¨¡å¼ã€ï¼Œé‚£ä¹ˆ this å°±ä¸å†æ˜¯æŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œè€Œæ˜¯ undefined ã€‚\n1 2 3 4 5 6  function printName2 () { \"use strict\" // å¯ç”¨ä¸¥æ ¼æ¨¡å¼  console.log(this) // undefined } printName2()   2) åŒ¿åå‡½æ•°ï¼š\nåŒ¿åå‡½æ•°è‡ªæ‰§è¡Œï¼Œè¿™ç§å½¢å¼å°è£…å…¬ç”¨åº“çš„æ—¶å€™æœ€å¸¸è§ï¼š\n1 2 3 4 5  window.name = 'globalName' (function () { console.log(this === window) // true  console.log(this.name) // \"globalName\" })()   å’Œæ™®é€šå‡½æ•°ä¸€æ ·ï¼ŒåŒ¿åå‡½æ•°ä¸­çš„ this ä¹Ÿæ˜¯æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚\nä½œä¸ºå‚æ•°çš„åŒ¿åå‡½æ•°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  window.name = 'globalName' setTimeout(function () { console.log(this === window) // true  console.log(this.name) // \"globalName\" }, 100) [1, 2, 3].forEach(function (item) { console.log(item, this.name) // 1 \"globalName\"  // 2 \"globalName\"  // 3 \"globalName\" })   æƒ…å†µäºŒï¼šä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ å½“å‡½æ•°ä½œä¸ºå¯¹è±¡å½“å±æ€§æ–¹æ³•è°ƒç”¨æ—¶ï¼Œthis æ€»æŒ‡å‘è¿™ä¸ªå¯¹è±¡ã€‚\n1 2 3 4 5 6 7 8 9  var obj = { name: 'obj', printName: function () { console.log(this === obj) // true  console.log(this.name) // \"obj\"  } } obj.printName()   ä½†æ˜¯å¦‚æœä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ–¹æ³•åˆèµ‹å€¼ç»™äº†å…¶ä»–å˜é‡ï¼Œé‚£ä¹ˆ this å°†å‘ç”Ÿå˜åŒ–ï¼Œå…¶æŒ‡å‘åªæœ‰åœ¨å‡½æ•°æ‰§è¡Œé‚£ä¸€åˆ»æ‰èƒ½ç¡®å®šã€‚ä¾‹å¦‚ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  var obj = { name: 'obj', printName: function () { console.log(this === obj) // true  console.log(this.name) // \"obj\"  } } var myPrintName = obj.printName window.name = 'globalName' myPrintName() // false // \"globalName\"   å½“ myPrintName æ‰§è¡Œæ—¶ï¼Œå°±è¦æŒ‰ç…§æ™®é€šå‡½æ•°æ¥åˆ¤æ–­ this æŒ‡å‘äº†ã€‚\nå†æ¥ä¸€ä¸ªä¾‹å­ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  var obj = { name: 'obj', printName: function () { console.log(this === obj) // true  console.log(this.name) // \"obj\"  } } var obj2 = { name: 'obj2', } obj2.printName = obj.printName obj2.printName() // false // \"obj2\"   å½“ obj2.printName æ‰§è¡Œæ—¶ï¼ŒprintName æ˜¯ä½œä¸º obj2 çš„å±æ€§æ–¹æ³•æ¥è°ƒç”¨çš„ï¼Œå› æ­¤ this æŒ‡å‘ obj2 è¿™ä¸ªå¯¹è±¡ã€‚\næ‰€ä»¥è¯´ï¼ŒJavaScript ä¸­çš„ this æŒ‡å‘æ— æ³•åœ¨å®šä¹‰æ—¶åˆ¤æ–­ï¼Œåªæœ‰åœ¨å…¶æ‰§è¡Œæ—¶æ‰èƒ½åˆ¤æ–­ã€‚\n1 2 3 4  var printName () { console.log(this === window) console.log(this.name) }   æƒ…å†µä¸‰ï¼šä½œä¸ºæ„é€ å™¨è°ƒç”¨ åœ¨ JavaScript ä¸­æ²¡æœ‰ã€Œç±»ã€çš„æ¦‚å¿µï¼ˆç›´åˆ° ES6 æ‰æœ‰ç±»çš„å‡ºç°ï¼‰ï¼Œè€Œæ˜¯æŠŠå‡½æ•°ä½œä¸ºæ„é€ å™¨ï¼Œé€šè¿‡ new æ“ä½œç¬¦æ¥ç”Ÿæˆå®ä¾‹ã€‚\né‚£ä¹ˆåœ¨æ„é€ å‡½æ•°ä¸­ this å°±æŒ‡å‘æ–°ç”Ÿæˆçš„å®ä¾‹ã€‚\n1 2 3 4 5 6 7 8 9  var MyClass = function () { // ç»™å®ä¾‹æ·»åŠ  name å±æ€§  this.name = 'myclass' this.printName = function () { return this.name } } var obj = new MyClass() obj.printName() // \"myclass\"   æƒ…å†µå››ï¼šæ˜¾å¼æŒ‡å®š this å‰é¢çš„å‡ ç§æ–¹æ³•éƒ½æ˜¯è¢«åŠ¨åœ°æ ¹æ®ä»£ç æ‰§è¡Œæ—¶çš„ç¯å¢ƒæ¥åˆ¤æ–­ this å…·ä½“æŒ‡å‘å“ªé‡Œï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰åŠæ³•ä¸»åŠ¨æŒ‡å®š this æŒ‡å‘å‘¢ã€‚\nç­”æ¡ˆå½“ç„¶æ˜¯æœ‰çš„ï¼Œç”šè‡³å®ƒä»¬çš„å‡ºåœºç‡è¿˜ç›¸å½“é«˜ã€‚\nå¸¸è§çš„æ˜¾å¼æŒ‡å®š this çš„æ–¹æ³•ä¸»è¦æ˜¯ callï¼Œapply å’Œ bind æ¥ï¼Œåœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­å‡ ä¹ç¦»ä¸å¼€è¿™ä¸‰ä¸ªæ–¹æ³•ã€‚\nå…ˆå®šä¹‰å¦‚ä¸‹å˜é‡ï¼š\n1 2 3 4 5 6 7 8  window.name = 'globalName' function printName () { console.log(this.name) } var obj1 = { name: 'obj1' } var obj2 = { name: 'obj2' } var obj3 = { name: 'obj3' }   é»˜è®¤æƒ…å†µ this æŒ‡å‘å…¨å±€å¯¹è±¡ window\n1  printName() // \"globalName\"   ä½¿ç”¨ call æ¥æ”¹å˜ this æŒ‡å‘ï¼š\n1  printName.call(obj1) // \"obj1\"   ä½¿ç”¨ apply æ¥æ”¹å˜ this æŒ‡å‘ï¼š\n1  printName.apply(obj2) // \"obj2\"   ä½¿ç”¨ bind æ¥æ”¹å˜ this æŒ‡å‘ï¼š\n1 2  var printName2 = printName.bind(obj3) printName2() // \"obj3\"   é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å‡½æ•°ä¹Ÿå¯ä»¥ä¿®æ”¹ this æŒ‡å‘ï¼Œä¾‹å¦‚ï¼šforEach, map, filter, some, every ç­‰ã€‚ä»¥ forEach ä¸ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  var obj = { name: 'zwc' } var arr = [ 1, 2 ] arr.forEach(function (item, index) { console.log(item, this) }) // 1 Window // 2 Window  arr.forEach(function (item, index) { console.log(item, this) }, obj) // 1 {name: \"zwc\"} // 2 {name: \"zwc\"}   forEach ç¬¬ä¸€ä¸ªå‚æ•°æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºè¿­ä»£å™¨ï¼Œç”¨æ¥å¤„ç†æ•°ç»„ä¸­æ¯ä¸€é¡¹å…ƒç´ ï¼Œè¿™ä¸ªå‡½æ•°é€šå¸¸æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå‡½æ•°å†…éƒ¨çš„ this æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚\nforEach ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯å‚æ•°å‡½æ•°ä¸­çš„ this æŒ‡å‘ã€‚\næ ¹æ®æ‰“å°ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œåœ¨ forEach çš„è¿­ä»£å™¨å‡½æ•°ä¸­çš„ this å·²ç»æŒ‡å‘äº† obj ã€‚\næƒ…å†µäº”ï¼šES6ç®­å¤´å‡½æ•° ç®­å¤´å‡½æ•°ç®€ä»‹ ES6 å…è®¸ä½¿ç”¨ã€Œç®­å¤´ã€ï¼ˆ=\u003eï¼‰å®šä¹‰å‡½æ•°ã€‚\n1 2 3 4 5 6  var f = v =\u003e v // ç­‰åŒäº var f = function (v) { return v }   é™¤äº†å½¢å¼æ›´ç®€æ´ä¹‹å¤–ï¼Œç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ thisï¼Œè€Œæ˜¯ä»è‡ªå·±ä½œç”¨åŸŸé“¾çš„ä¸Šä¸€å±‚ç»§æ‰¿ thisã€‚\n ç®­å¤´å‡½æ•°æ€»æ˜¯ä»è‡ªå·±ä½œç”¨åŸŸé“¾çš„ä¸Šä¸€å±‚ç»§æ‰¿ thisã€‚\n ç¥é©¬æ„æ€å‘¢ï¼Ÿæˆ‘çš„ç†è§£å°±æ˜¯ç®­å¤´å‡½æ•°å†…éƒ¨çš„ this æŒ‡å‘æ°¸è¿œæ˜¯ç®­å¤´å‡½æ•°è¢«å®šä¹‰æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸçš„ thisï¼Œå¹¶ä¸”æ— æ³•ä¿®æ”¹ã€‚\næ— æ³•ç»‘å®š this ä½¿ç”¨ call æ¥è°ƒç”¨ç®­å¤´å‡½æ•°æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¼šè¢«å¿½ç•¥ï¼Œä¹Ÿå°±æ˜¯è¯´æ— æ³•ä¿®æ”¹ this æŒ‡å‘ã€‚apply å’Œ bind ä¹Ÿæ˜¯åŒæ ·ç°è±¡ã€‚\n1 2 3 4 5 6 7  var printName = () =\u003e { console.log(this === window) // true } var obj = { name: 'obj' } printName.call(obj)   ä¾‹å­ä¸€ æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œåœ¨ä¸ä½¿ç”¨ç®­å¤´å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çŸ¥é“æ„é€ å™¨å‡½æ•°å†…éƒ¨ this æŒ‡å‘å¯¹è±¡å®ä¾‹ï¼Œè€ŒåŒ¿åå‡½æ•°çš„ this æ˜¯æŒ‡å‘å…¨å±€å¯¹è±¡çš„ï¼Œå› æ­¤æƒ³è¦é€šè¿‡å®šæ—¶å™¨æ‰“å°å¯¹è±¡å®ä¾‹çš„ age å±æ€§ï¼Œåªèƒ½ç”¨ä¸€ä¸ªå˜é‡ self ä¿å­˜ this çš„å¼•ç”¨ï¼ˆå³é—­åŒ…ï¼‰\n1 2 3 4 5 6 7 8 9 10 11  function Person(){ // æ„é€ å™¨å‡½æ•°å†…éƒ¨ this æŒ‡å‘å¯¹è±¡å®ä¾‹  this.age = 0 var self = this setInterval(function () { // åŒ¿åå‡½æ•°ä¸­ this æŒ‡å‘å…¨å±€å¯¹è±¡  console.log(self.age++) }, 1000) } var p = new Person()   ä½¿ç”¨ç®­å¤´å‡½æ•°ä¹‹åï¼Œå› ä¸ºç®­å¤´å‡½æ•°çš„ this ç»§æ‰¿è‡ªå…¶è¢«å®šä¹‰æ—¶æ‰€åœ¨ç¯å¢ƒçš„ thisï¼Œåœ¨æœ¬ä¾‹ä¸­è¿™ä¸ª this å°±æ˜¯å®ä¾‹å¯¹è±¡ï¼š\n1 2 3 4 5 6 7 8 9 10  function Person(){ // æ„é€ å™¨å‡½æ•°å†…éƒ¨ this æŒ‡å‘å¯¹è±¡å®ä¾‹  this.age = 0 setInterval(() =\u003e { // è¿™é‡Œçš„ this ä¹ŸæŒ‡å‘æ„é€ å‡½æ•°çš„ this  console.log(this.age++) }, 1000) } var p = new Person()   ä¾‹å­äºŒ å†è¯´ä¸€ä¸ªæ›´å®ç”¨çš„ä¾‹å­ï¼šåœ¨ Vue.js ä¸­ä½¿ç”¨ç®­å¤´å‡½æ•°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  import axios from 'axios' export default { methods: { fetch () { axios.get('/userinfo') .then(resp =\u003e { this.sayHi() // this æŒ‡å‘ vue å®ä¾‹  }) .catch(err =\u003e { this.sayHi() // this æŒ‡å‘ vue å®ä¾‹  }) }, sayHi () { setTimeout(() =\u003e { // this æŒ‡å‘ vue å®ä¾‹  }, 1000) } } }   ä½¿ç”¨ç®­å¤´å‡½æ•°ä¹‹åï¼Œå†ä¹Ÿæ— éœ€ç¼“å­˜ vue å®ä¾‹ï¼Œåƒæ˜¯ var vm = this è¿™ç§ä»£ç ç»Ÿç»Ÿå¯ä»¥æ¶ˆç­æ‰ï¼Œå—¯ï¼Œæ¸…çˆ½ï¼\nç›¸å…³é“¾æ¥   ä¸¥æ ¼æ¨¡å¼ - MDN   ç®­å¤´å‡½æ•° - MDN   ç®­å¤´å‡½æ•° - ES6 å…¥é—¨   æ€»ç»“ åœ¨ç®­å¤´å‡½æ•°å‡ºç°ä¹‹å‰ï¼Œæ¯ä¸€ä¸ªæ–°å‡½æ•°æ ¹æ®å®ƒæ˜¯è¢«å¦‚ä½•è°ƒç”¨çš„æ¥å®šä¹‰è¿™ä¸ªå‡½æ•°çš„ this å€¼ï¼š\n å¦‚æœæ˜¯è¯¥å‡½æ•°æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°æˆ–è€…åŒ¿åå‡½æ•°  åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹çš„å‡½æ•°è°ƒç”¨ä¸‹ï¼Œthis æŒ‡å‘ undefinedï¼Œ åœ¨éä¸¥æ ¼æ¨¡å¼çš„å‡½æ•°è°ƒç”¨ä¸­ï¼Œthis æŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œæµè§ˆå™¨ä¸­å…¨å±€å¯¹è±¡æ˜¯ window ï¼Œåœ¨ nodejs ä¸­å…¨å±€å¯¹è±¡æ˜¯ global   å¦‚æœæ˜¯è¯¥å‡½æ•°æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œthis æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼ˆå®ä¾‹ï¼‰ å¦‚æœæ˜¯è¯¥å‡½æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œåˆ™å®ƒçš„this æŒ‡é’ˆæŒ‡å‘è¿™ä¸ªå¯¹è±¡ æˆ–è€…ä½¿ç”¨ call apply ç­‰æ–¹æ³•æ˜¾å¼æŒ‡å®š this çš„æŒ‡å‘  åœ¨ç®­å¤´å‡½æ•°ä¸­ï¼Œåˆ™æ˜¯æ ¹æ®ç®­å¤´å‡½æ•°ä¸Šä¸‹æ–‡å†³å®šå…¶ this æŒ‡å‘ï¼Œä¸”æ— æ³•ä¿®æ”¹ this æŒ‡å‘ã€‚\n æœ¬æ–‡å®Œï¼Œæ„Ÿè°¢é˜…è¯»ã€‚:stuck_out_tongue_winking_eye:\n","description":"","tags":["JavaScript","thisæŒ‡å‘"],"title":"æ€»ç»“ JavaScript ä¸­çš„ this æŒ‡å‘é—®é¢˜","uri":"/2019-09-29/this-in-javascript/"}]